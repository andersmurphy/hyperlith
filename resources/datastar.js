// Datastar v1.0.0-RC.5
var dt=/ðŸ–•JS_DSðŸš€/.source,Ee=dt.slice(0,5),ne=dt.slice(4),I="datastar",mt="Datastar-Request",gt=1e3,yt="type module",bt=!1,ht=!1,St=!0,Oe="morph",vt="inner",Et="outer",Tt="prepend",At="append",xt="before",Mt="after",wt="upsertAttributes",Rt=Oe,He="datastar-merge-fragments",$e="datastar-merge-signals",We="datastar-remove-fragments",qe="datastar-remove-signals",Ge="datastar-execute-script";var g=(r=>(r[r.Attribute=1]="Attribute",r[r.Watcher=2]="Watcher",r[r.Action=3]="Action",r))(g||{});var z=`${I}-signal-change`;var X=e=>e.trim()==="true",B=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").replace(/([a-z])([0-9]+)/gi,"$1-$2").replace(/([0-9]+)([a-z])/gi,"$1-$2").toLowerCase(),de=e=>B(e).replace(/-./g,t=>t[1].toUpperCase()),me=e=>B(e).replace(/-/g,"_"),On=e=>de(e).replace(/^./,t=>t[0].toUpperCase()),Dt=e=>Function(`return Object.assign({}, ${e})`)(),J=e=>e.startsWith("$")?e.slice(1):e,Hn={kebab:B,snake:me,pascal:On};function N(e,t){for(let n of t.get("case")||[]){let r=Hn[n];r&&(e=r(e))}return e}var $n="computed",Pt={type:1,name:$n,keyReq:1,valReq:1,onLoad:({key:e,mods:t,genRX:n,computed:r,batch:i})=>{e=N(e,t);let{deps:a,rxFn:o}=n();i(()=>{r(a,o,e)})}};var xe=new Set,Me=new Set,we=new Set;function Re(e){xe.clear(),Me.clear(),we.clear();let t=e();return(xe.size||Me.size||we.size)&&document.dispatchEvent(new CustomEvent(z,{detail:{added:[...xe],removed:[...Me],updated:[...we]}})),t}var H=[],Q=new Map;function ie(){return H}function ze(e){return Q.get(e)}function Wn(e){let t=[],n=0,r=H.length-1,i=a=>a!==e&&!a.startsWith(`${e}.`);for(;n<=r;){let a=Math.floor((n+r)/2),o=H[a];if(o<e)n=a+1;else if(o>e)r=a-1;else{let s=a;do{let c=H[s];if(i(c))break;s--}while(s>=0);let l=a;do{let c=H[l];if(i(c))break;l++}while(l<H.length);for(let c=s+1;c<l;c++)t.push(H[c]);return t}}return t}function Lt(e,t){Xe(e),H.push(e),Q.set(e,t),H.sort(),xe.add(e)}function q(e,t){let n=Q.get(e);if(n){if(!(n instanceof re))return;n.value=t}else be(t,e)}function oe(e){return Q.get(e)?.value}function se(e,t){let n=!1,r=Q.get(e);return r||(n=!0,r=be(t,e)),{dep:r,inserted:n}}function De(e,t=!1){let n=Ct(e);for(let[r,i]of Object.entries(n))Q.has(r)&&t||q(r,i)}function Xe(...e){for(let t of e){let n=Wn(t);for(let r of n){Q.delete(r);let i=H.indexOf(r);i>-1&&H.splice(i,1),Me?.add(r)}}}function Pe(e=!0,t=!1){return JSON.stringify(qn(t),null,e?2:0)}function qn(e,...t){let n=new Map;for(let i of H)if(!(e&&i.match(/^_|\._/))){if(t.length>0){let a=!1;for(let o of t)if(i.startsWith(o)){a=!0;break}if(!a)continue}n.set(i,Q.get(i)?.value)}return _n(n)}function Gn(e){return Object.prototype.toString.call(e)==="[object Object]"}function Ct(e,t=[],n="."){return Object.keys(e).reduce((r,i)=>Object.assign({},r,Gn(e[i])?Ct(e[i],t.concat([i]),n):{[t.concat([i]).join(n)]:e[i]}),{})}function _n(e,t="."){let n={};for(let[r,i]of e.entries()){let a=r.split(t),o=n;for(let s=0;s<a.length-1;s++){let l=a[s];o[l]||(o[l]={}),o=o[l]}o[a[a.length-1]]=i}return n}function kt(e,t,n,...r){return Re(()=>e(...r,...n.map((i,a)=>t[a]?i:i.value)))}var Te=[],ge=[],Ae=0,ye=0;function Je(e,t){switch(e.length){case 0:return t;case 1:return()=>t(e[0].value);case 2:return()=>t(e[0].value,e[1].value);case 3:return()=>t(e[0].value,e[1].value,e[2].value);case 4:return()=>t(e[0].value,e[1].value,e[2].value,e[3].value)}let n=e.length;return Te[n]||(Te[n]=Array(n)),()=>{for(let r=0;r<n;r++)Te[n][r]=e[r].value;return t(...Te[n])}}function _e(e){e.flags&=-249;let t=e.currentValue,n=e.getter();return t!==n?(e.currentValue=n,!0):!1}function jn(e){let t=e.flags;return(t&32||t&64&&Un(e,t))&&(e.flags&=-249,e.run()),!0}function Un(e,t){return Nt(e.deps)?(e.flags=t|32,!0):(e.flags=t&-65,!1)}function be(e,t){return new re(e,t)}var re=class{constructor(t,n){this.currentValue=t;this.path=n;n&&Lt(n,this)}get value(){return this.currentValue}set value(t){if(this.currentValue!==t&&(this.currentValue=t,this.path&&we.add(this.path),this.subs)){let n=this.subs,r=n.nextSub,i,a=0,o=32;e:do{let s=n.sub,l=s.flags,c=!1;if(l&244?l&16&&!(l&4)?(s.flags=l&-17|o|8,c=!0):!(l&224)&&Be(n,s)&&(s.flags=l|16|o|8,c=!!s.subs):(s.flags=l|o|8,c=!0),c){let u=s.subs;if(u){n=u,u.nextSub?(i={target:r,linked:i},++a,r=n.nextSub,o=64):o=l&2?128:64;continue}l&2&&(ge[ye++]=s)}else l&(4|o)?!(l&o)&&l&224&&Be(n,s)&&(s.flags=l|o):(s.flags=l|o|8,(l&10)===2&&(ge[ye++]=s));if(n=r){r=n.nextSub,o=a?64:32;continue}for(;a--;)if(n=i.target,i=i.linked,n){r=n.nextSub,o=a?64:32;continue e}break}while(!0);for(;Ae<ye;){let s=ge[Ae];ge[Ae++]=void 0,jn(s)||(s.flags&=-9)}Ae=0,ye=0}}};function Qe(e,t,n){return new je(e,Je(e,t),n)}var je=class{constructor(t,n,r){this.path=r;this.flags=33;this.getter=Je(t,n),r&&Lt(r,this);for(let i of t)Ft(i,this)}get value(){let t=this.flags;if(t&96)if(t&32||Nt(this.deps)){if(_e(this)){let n=this.subs;n&&Ke(n)}}else this.flags=t&-65;return this.currentValue}};function Ye(e,t){let n=new Ue(e,t);return()=>n.dispose()}var Ue=class{constructor(t,n){this.flags=2;for(let r of t)Ft(r,this);this.run=Je(t,n),this.run()}dispose(){if(this.depsTail=void 0,this.flags&=-249,this.deps){let t=this.deps;do{let n=t.dep,r=t.nextDep,i=t.nextSub,a=t.prevSub;if(i?i.prevSub=a:n.subsTail=a,a?a.nextSub=i:n.subs=i,!n.subs&&"deps"in n){let o=n.flags;o&32||(n.flags=o|32);let s=n.deps;if(s){t=s,n.depsTail.nextDep=r,n.deps=void 0,n.depsTail=void 0;continue}}t=r}while(t);this.deps=void 0}}};function Ft(e,t){let n=t.depsTail;if(n&&n.dep===e)return;let r=n?n.nextDep:t.deps;if(r&&r.dep===e){t.depsTail=r;return}let i=e.subsTail;if(i&&i.sub===t&&Be(i,t))return;let a={dep:e,sub:t,nextDep:r,prevSub:void 0,nextSub:void 0};if(n?n.nextDep=a:t.deps=a,!e.subs)e.subs=a;else{let o=e.subsTail;a.prevSub=o,o.nextSub=a}return t.depsTail=a,e.subsTail=a,a}function Nt(e){let t,n=0,r;e:do{r=!1;let i=e.dep;if(e.sub.flags&32)r=!0;else if("flags"in i){let a=i.flags;if((a&33)===33){if(_e(i)){let o=i.subs;o.nextSub&&Ke(o),r=!0}}else if((a&65)===65){(e.nextSub||e.prevSub)&&(t={target:e,linked:t}),e=i.deps,++n;continue}}if(!r&&e.nextDep){e=e.nextDep;continue}for(;n;){--n;let a=e.sub,o=a.subs;if(r){if(_e(a)){o.nextSub?(e=t.target,t=t.linked,Ke(o)):e=o;continue}}else a.flags&=-65;if(o.nextSub?(e=t.target,t=t.linked):e=o,e.nextDep){e=e.nextDep;continue e}r=!1}return r}while(!0)}function Ke(e){do{let t=e.sub,n=t.flags;(n&96)===64&&(t.flags=n|32|8,(n&10)===2&&(ge[ye++]=t)),e=e.nextSub}while(e)}function Be(e,t){let n=t.depsTail;if(n){let r=t.deps;do{if(r===e)return!0;if(r===n)break;r=r.nextDep}while(r)}return!1}var Vt={type:1,name:"signals",onLoad:e=>{let{key:t,mods:n,value:r,genRX:i,evalRX:a,batch:o}=e,{deps:s,dm:l,rxFn:c}=i(),u=n.has("ifmissing");if(t!==""){let p=N(t,n),d=r===""?r:a(c,l,s);o(()=>{u?se(p,d):q(p,d)})}else{let p=a(c,l,s);o(()=>{De(p,u)})}}};function Kn(e){return e instanceof HTMLElement||e instanceof SVGElement}function ae(e,t){let n=document.createTreeWalker(e,1);for(;e;){if(Kn(e)){let r=e.dataset;if("ignore"in r){e=n.nextSibling();continue}"ignore__self"in r||t(e)}e=n.nextNode()}}var Bn="https://data-star.dev/errors";function It(e,t,n={}){let r=new Error;r.name=`${I} ${e} error`;let i=me(t),a=new URLSearchParams({metadata:JSON.stringify(n)}).toString(),o=JSON.stringify(n,null,2);return r.message=`${t}
More info: ${Bn}/${e}/${i}?${a}
Context: ${o}`,r}function $(e,t,n={}){let r={plugin:{name:t.plugin.name,type:g[t.plugin.type]}};return It("init",e,Object.assign(r,n))}function E(e,t,n={}){let r={plugin:{name:t.plugin.name,type:g[t.plugin.type]},element:{id:t.el.id,tag:t.el.tagName},expression:{rawKey:t.rawKey,key:t.key,value:t.value,validSignals:ie(),fnContent:t.fnContent}};return It("runtime",e,Object.assign(r,n))}var he={},Ze=[],le=new Map,et=null,tt="";function Ht(e){tt=e}function Le(...e){for(let t of e){let n={plugin:t,actions:he,removals:le,applyToElement:Ce,batch:Re,signal:be,computed:Qe,effect:Ye},r=t.type;if(r===3)he[t.name]=t;else if(r===1)Ze.push(t),t.onGlobalInit?.(n);else if(r===2)t.onGlobalInit?.(n);else throw $("InvalidPluginType",n)}Ze.sort((t,n)=>{let r=n.name.length-t.name.length;return r!==0?r:t.name.localeCompare(n.name)})}function nt(){queueMicrotask(()=>{ae(document.documentElement,Ce),et=new MutationObserver(Ot),Ot([])})}function Ot(e){et.disconnect();for(let{target:t,type:n,addedNodes:r,removedNodes:i}of e)switch(n){case"childList":{for(let a of i)ae(a,o=>{let s=le.get(o);if(le.delete(o)){for(let l of s.values())l();s.clear()}});for(let a of r)ae(a,o=>{o.setAttribute("data-apply","")})}break;case"attributes":{t.setAttribute("data-apply","");break}}for(let t of document.querySelectorAll("[data-apply]"))t.removeAttribute("data-apply"),Ce(t);et.observe(document.body,{subtree:!0,childList:!0,attributes:!0})}function $t(e){let t=5831,n=e.length;for(;n--;)t+=(t<<5)+e.charCodeAt(n);return(t>>>0).toString(36)}function Ce(e){let t=[],n=le.get(e)||new Map,r=new Map(n);for(let[i,a]of Object.entries(e.dataset)){if(!i.startsWith(tt))continue;let o=$t(`${i}${a}`);r.delete(o)||t.push({key:i,value:a,hash:o})}for(let[i,a]of r)a(),n.delete(i);for(let{key:i,value:a,hash:o}of t){let s=zn(e,i,a);s&&n.set(o,s)}n.size&&le.set(e,n)}function zn(e,t,n){let r=de(t.slice(tt.length)),i=Ze.find(d=>RegExp(`^${d.name}([A-Z]|_|$)`).test(r));if(!i)return;let[a,...o]=r.slice(i.name.length).split(/\_\_+/),s=!!a;s&&(a=de(a));let l=!!n,c={applyToElement:Ce,actions:he,removals:le,genRX:()=>Xn(c,...i.argNames||[]),plugin:i,el:e,rawKey:r,key:a,value:n,mods:new Map,batch:Re,signal:be,computed:Qe,effect:Ye,evalRX:kt},u=i.keyReq||0;if(s){if(u===2)throw E(`${i.name}KeyNotAllowed`,c)}else if(u===1)throw E(`${i.name}KeyRequired`,c);let p=i.valReq||0;if(l){if(p===2)throw E(`${i.name}ValueNotAllowed`,c)}else if(p===1)throw E(`${i.name}ValueRequired`,c);if(u===3||p===3){if(s&&l)throw E(`${i.name}KeyAndValueProvided`,c);if(!s&&!l)throw E(`${i.name}KeyOrValueRequired`,c)}for(let d of o){let[T,...m]=d.split(".");c.mods.set(de(T),new Set(m.map(D=>D.toLowerCase())))}return i.onLoad(c)}function Xn(e,...t){let n=[],r=new Set,i="",a=/(\/(\\\/|[^\/])*\/|"(\\"|[^\"])*"|'(\\'|[^'])*'|`(\\`|[^`])*`|[^;])+/gm,o=e.value.trim().match(a);if(o){let y=o.length-1,b=o[y].trim();b.startsWith("return")||(o[y]=`return (${b});`),i=o.join(`;
`)}let s=new Map,l=RegExp(`(?:${Ee})(.*?)(?:${ne})`,"gm");for(let y of i.matchAll(l)){let b=y[1],S=`dsEscaped${$t(b)}`;s.set(S,b),i=i.replace(Ee+b+ne,S)}let c=(y,b)=>`${y}${me(b).replaceAll(/\./g,"_")}`,u=new Set(t),p=ie();if(p.length){let y=p.toSorted((x,C)=>C.length-x.length).join("|"),b=RegExp(`\\$(${y})(\\s*[+&^\\/*|-]?=[^=]|\\+\\+|--)`,"gm"),S=[...i.matchAll(b)],P=(x,C,f="")=>{i=i.replaceAll(`$${x[1]}`,C+f)};if(S.length){let x=`${I}Mut_`,C=new Set;for(let f of S){let M=f[1],h=ze(M),w=c(x,M);h&&!C.has(h)&&(r.add(h),C.add(h),n.push(!0),u.add(w)),P(f,`${w}`,".value")}}let O=RegExp(`\\$(${y})(\\W|$)`,"gm"),R=[...i.matchAll(O)];if(R.length){let x=`${I}Pure_`,C=new Set;for(let f of R){let M=f[1],h=ze(M),w=c(x,M);h&&!C.has(h)&&(r.add(h),C.add(h),n.push(!1),u.add(w)),P(f,w)}}}let d=new Set,T=RegExp(`@(${Object.keys(he).join("|")})\\(`,"gm"),m=[...i.matchAll(T)],D=new Set;if(m.length){let y=`${I}Act_`;for(let b of m){let S=b[1],P=he[S];if(!P)continue;d.add(S);let O=c(y,S);u.add(O),i=i.replace(`@${S}(`,`${O}(`),D.add((...R)=>P.fn(e,...R))}}for(let[y,b]of s)i=i.replace(y,b);e.fnContent=i;try{let y=Function("el",...u,i);return{dm:n,deps:[...r],rxFn:(...b)=>{try{return y(e.el,...b,...D)}catch(S){throw E("ExecuteExpression",e,{error:S.message})}}}}catch(y){throw E("GenerateExpression",e,{error:y.message})}}Le(Vt,Pt);var Y=`${I}-sse`,ke="started",Fe="finished",Wt="error",qt="retrying",Gt="retrying";function j(e,t){document.addEventListener(Y,n=>{if(n.detail.type!==e)return;let{argsRaw:r}=n.detail;t(r)})}function ce(e,t,n){document.dispatchEvent(new CustomEvent(Y,{detail:{type:e,el:t,argsRaw:n}}))}var _t=e=>`${e}`.includes("text/event-stream"),jt=e=>e==="GET",U=async(e,t,n,r)=>{let{el:i,evt:a}=e,{headers:o,contentType:s,includeLocal:l,excludeSignals:c,selector:u,openWhenHidden:p,retryInterval:d,retryScaler:T,retryMaxWaitMs:m,retryMaxCount:D,abort:y}=Object.assign({headers:{},contentType:"json",includeLocal:!1,excludeSignals:!1,selector:null,openWhenHidden:!1,retryInterval:gt,retryScaler:2,retryMaxWaitMs:3e4,retryMaxCount:10,abort:void 0},r),b=t.toLowerCase(),S=()=>{};try{if(!n?.length)throw E("SseNoUrlProvided",e,{action:b});let P={};P[mt]=!0,s==="json"&&(P["Content-Type"]="application/json");let O=Object.assign({},P,o),R={method:t,headers:O,openWhenHidden:p,retryInterval:d,retryScaler:T,retryMaxWaitMs:m,retryMaxCount:D,signal:y,onopen:async f=>{if(f.status>=400){let M=f.status.toString();ce(Wt,i,{status:M})}},onmessage:f=>{if(!f.event.startsWith(I))return;let M=f.event,h={},w=f.data.split(`
`);for(let A of w){let k=A.indexOf(" "),F=A.slice(0,k),L=h[F];L||(L=[],h[F]=L);let G=A.slice(k+1);L.push(G)}let v={};for(let[A,k]of Object.entries(h))v[A]=k.join(`
`);ce(M,i,v)},onerror:f=>{if(_t(f))throw E("InvalidContentType",e,{url:n});f&&(console.error(f.message),ce(qt,i,{message:f.message}))}},x=new URL(n,window.location.href),C=new URLSearchParams(x.search);if(s==="json"){if(!c){let f=Pe(!1,!l);jt(t)?C.set(I,f):R.body=f}}else if(s==="form"){let f=u?document.querySelector(u):i.closest("form");if(f===null)throw u?E("SseFormNotFound",e,{action:b,selector:u}):E("SseClosestFormNotFound",e,{action:b});if(!f.checkValidity()){f.reportValidity(),S();return}let M=new FormData(f),h=i;if(i===f)a instanceof SubmitEvent&&(h=a.submitter);else{let A=k=>k.preventDefault();f.addEventListener("submit",A),S=()=>f.removeEventListener("submit",A)}if(h instanceof HTMLButtonElement){let A=h.getAttribute("name");A&&M.append(A,h.value)}let w=f.getAttribute("enctype")==="multipart/form-data";w||(O["Content-Type"]="application/x-www-form-urlencoded");let v=new URLSearchParams(M);if(jt(t))for(let[A,k]of v)C.append(A,k);else w?R.body=M:R.body=v}else throw E("SseInvalidContentType",e,{action:b,contentType:s});ce(ke,i,{}),x.search=C.toString();try{await tr(x.toString(),i,R)}catch(f){if(!_t(f))throw E("SseFetchFailed",e,{method:t,url:n,error:f})}}finally{ce(Fe,i,{}),S()}};async function Jn(e,t){let n=e.getReader(),r;for(r=await n.read();!r.done;)t(r.value),r=await n.read()}function Qn(e){let t,n,r,i=!1;return function(o){t===void 0?(t=o,n=0,r=-1):t=Zn(t,o);let s=t.length,l=0;for(;n<s;){i&&(t[n]===10&&(l=++n),i=!1);let c=-1;for(;n<s&&c===-1;++n)switch(t[n]){case 58:r===-1&&(r=n-l);break;case 13:i=!0;case 10:c=n;break}if(c===-1)break;e(t.subarray(l,c),r),l=n,r=-1}l===s?t=void 0:l!==0&&(t=t.subarray(l),n-=l)}}function Yn(e,t,n){let r=Ut(),i=new TextDecoder;return function(o,s){if(o.length===0)n?.(r),r=Ut();else if(s>0){let l=i.decode(o.subarray(0,s)),c=s+(o[s+1]===32?2:1),u=i.decode(o.subarray(c));switch(l){case"data":r.data=r.data?`${r.data}
${u}`:u;break;case"event":r.event=u;break;case"id":e(r.id=u);break;case"retry":{let p=Number.parseInt(u,10);Number.isNaN(p)||t(r.retry=p);break}}}}}function Zn(e,t){let n=new Uint8Array(e.length+t.length);return n.set(e),n.set(t,e.length),n}function Ut(){return{data:"",event:"",id:"",retry:void 0}}var er="text/event-stream",Kt="last-event-id";function tr(e,t,{signal:n,headers:r,onopen:i,onmessage:a,onclose:o,onerror:s,openWhenHidden:l,fetch:c,retryInterval:u=1e3,retryScaler:p=2,retryMaxWaitMs:d=3e4,retryMaxCount:T=10,...m}){return new Promise((D,y)=>{let b=0,S={...r};S.accept||(S.accept=er);let P;function O(){P.abort(),document.hidden||M()}l||document.addEventListener("visibilitychange",O);let R=0;function x(){document.removeEventListener("visibilitychange",O),window.clearTimeout(R),P.abort()}n?.addEventListener("abort",()=>{x(),D()});let C=c??window.fetch,f=i??function(){};async function M(){P=new AbortController;try{let h=await C(e,{...m,headers:S,signal:P.signal});await f(h),await Jn(h.body,Qn(Yn(w=>{w?S[Kt]=w:delete S[Kt]},w=>{u=w},a))),o?.(),x(),D()}catch(h){if(!P.signal.aborted)try{let w=s?.(h)??u;window.clearTimeout(R),R=window.setTimeout(M,w),u*=p,u=Math.min(u,d),b++,b>=T?(ce(Gt,t,{}),x(),y("Max retries reached.")):console.error(`Datastar failed to reach ${e.toString()} retrying in ${w}ms.`)}catch(w){x(),y(w)}}}M()})}var Bt={type:3,name:"delete",fn:async(e,t,n)=>U(e,"DELETE",t,{...n})};var zt={type:3,name:"get",fn:async(e,t,n)=>U(e,"GET",t,{...n})};var Xt={type:3,name:"patch",fn:async(e,t,n)=>U(e,"PATCH",t,{...n})};var Jt={type:3,name:"post",fn:async(e,t,n)=>U(e,"POST",t,{...n})};var Qt={type:3,name:"put",fn:async(e,t,n)=>U(e,"PUT",t,{...n})};var Yt={type:2,name:Ge,onGlobalInit:async e=>{j(Ge,({autoRemove:t=`${St}`,attributes:n=yt,script:r})=>{let i=X(t);if(!r?.length)throw $("NoScriptProvided",e);let a=document.createElement("script");for(let o of n.split(`
`)){let s=o.indexOf(" "),l=s?o.slice(0,s):o,c=s?o.slice(s):"";a.setAttribute(l.trim(),c.trim())}a.text=r,document.head.appendChild(a),i&&a.remove()})}};var Se=document,ve=!!Se.startViewTransition;function K(e,t){if(t.has("viewtransition")&&ve){let n=e;e=(...r)=>document.startViewTransition(()=>n(...r))}return e}var cn="div",rt="value",st=e=>document.createElement(e),un=()=>st(cn),nr=e=>`<${e}></${e}>`,Zt=e=>[...e.querySelectorAll("[id]")],pn=e=>e instanceof Element,en=e=>e instanceof HTMLTemplateElement,tn=e=>e instanceof HTMLInputElement,nn=e=>e instanceof HTMLTextAreaElement,rn=e=>e instanceof HTMLOptionElement,fn={type:2,name:He,onGlobalInit:async e=>{let t=st("template");j(He,({fragments:n=nr(cn),selector:r="",mergeMode:i=Rt,useViewTransition:a="false"})=>{let o=X(a);t.innerHTML=n.trim();for(let s of[...t.content.children]){if(!pn(s))throw $("NoFragmentsFound",e);let l=r||`#${s.getAttribute("id")}`,c=document.querySelectorAll(l);if(!c.length)throw $("NoTargetsFound",e,{selectorOrID:l});o&&ve?Se.startViewTransition(()=>on(e,i,s,c)):on(e,i,s,c)}})}};function on(e,t,n,r){for(let i of r){let a=n.cloneNode(!0);switch(t){case Oe:{ir(i,a),ae(i,o=>{let s=e.removals.get(o);if(e.removals.delete(o)){for(let l of s.values())l();s.clear()}e.applyToElement(o)});break}case vt:i.innerHTML=a.outerHTML;break;case Et:i.replaceWith(a);break;case Tt:i.prepend(a);break;case At:i.append(a);break;case xt:i.before(a);break;case Mt:i.after(a);break;case wt:for(let o of a.getAttributeNames()){let s=a.getAttribute(o);i.setAttribute(o,s)}break;default:throw $("InvalidMergeMode",e,{mergeMode:t})}}}var pe=un();pe.hidden=!0;var Ne,W=new Map,ue=new Set,rr=pe.moveBefore!==void 0;function ir(e,t){let n=un();n.append(t);let r=Zt(n),i=Zt(e);e.id&&i.push(e);let a=new Set,o=new Map;for(let{id:d,tagName:T}of i)o.has(d)?a.add(d):o.set(d,T);ue.clear();for(let{id:d,tagName:T}of r)ue.has(d)?a.add(d):o.get(d)===T&&ue.add(d);for(let d of a)ue.delete(d);W.clear(),ln(e.parentElement,i),ln(n,r),document.body.insertAdjacentElement("afterend",pe),Ne=e;let s=e.parentNode,l=e.previousSibling,c=e.nextSibling;dn(s,n,e,c);let u=[],p=l?.nextSibling||s.firstChild;for(;p&&p!==c;)u.push(p),p=p.nextSibling;return pe.remove(),u}function dn(e,t,n=null,r=null){en(e)&&en(t)&&(e=e.content,t=t.content),n??=e.firstChild;for(let i of t.childNodes){if(n&&n!==r){let o=or(i,n,r);if(o){if(o!==n){let s=n;for(;s&&s!==o;){let l=s;s=s.nextSibling,an(l)}}it(o,i),n=o.nextSibling;continue}}if(pn(i)&&ue.has(i.id)){let o=i.id,s=`[id="${o}"]`,l=p=>p.querySelector(s),c=Ne.id===o&&Ne||l(Ne)||l(pe),u=c;for(;u=u.parentNode;){let p=W.get(u);p&&(p.delete(c.id),p.size||W.delete(u))}mn(e,c,n),it(c,i),n=c.nextSibling;continue}if(W.has(i)){let o=st(i.tagName);return e.insertBefore(o,n),it(o,i),o}let a=document.importNode(i,!0);e.insertBefore(a,n)}for(;n&&n!==r;){let i=n;n=n.nextSibling,an(i)}}function or(e,t,n){let r=null,i=e.nextSibling,a=0,o=0,s=W.get(e)?.size||0,l=t;for(;l&&l!==n;){if(sn(l,e)){let c=!1,u=W.get(l),p=W.get(e);if(p&&u){for(let d of u)if(p.has(d)){c=!0;break}}if(c)return l;if(!r&&!W.has(l)){if(!s)return l;r=l}}if(o+=W.get(l)?.size||0,o>s||(r===null&&i&&sn(l,i)&&(a++,i=i.nextSibling,a>=2&&(r=void 0)),l.contains(document.activeElement)))break;l=l.nextSibling}return r||null}function sn(e,t){let n=e,r=t;return n.nodeType===r.nodeType&&n.tagName===r.tagName&&(!n.id||n.id===r.id)}function an(e){W.has(e)?mn(pe,e,null):e.parentNode?.removeChild(e)}function mn(e,t,n=null){rr?e.moveBefore(t,n):e.insertBefore(t,n)}function it(e,t){let n=t.nodeType,r=e,i=t;if(n===1){let a=r.attributes,o=i.attributes;for(let s of o)r.getAttribute(s.name)!==s.value&&r.setAttribute(s.name,s.value);for(let s=a.length-1;0<=s;s--){let l=a[s];l&&(i.hasAttribute(l.name)||r.removeAttribute(l.name))}if(tn(r)&&tn(i)&&i.type!=="file"){let s=i.value,l=r.value;ot(r,i,"checked"),ot(r,i,"disabled"),Object.keys(i.dataset||{}).some(u=>u.startsWith("bind"))||(i.hasAttribute(rt)?l!==s&&(r.setAttribute(rt,s),r.value=s):(r.value="",r.removeAttribute(rt)))}else if(rn(r)&&rn(i))ot(r,i,"selected");else if(nn(r)&&nn(i)){let s=i.value,l=r.value;s!==l&&(r.value=s),r.firstChild&&r.firstChild.nodeValue!==s&&(r.firstChild.nodeValue=s)}}return(n===8||n===3)&&e.nodeValue!==t.nodeValue&&(e.nodeValue=t.nodeValue),r.innerHTML!==i.innerHTML&&dn(r,i),e}function ot(e,t,n){let r=t,i=e,a=r[n],o=i[n];a!==o&&(i[n]=r[n],a?e.setAttribute(n,""):e.removeAttribute(n))}function ln(e,t){for(let n of t)if(ue.has(n.id)){let r=n;for(;r&&r!==e;){let i=W.get(r);i||(i=new Set,W.set(r,i)),i.add(n.id),r=r.parentElement}}}var gn={type:2,name:$e,onGlobalInit:async({batch:e})=>{j($e,({signals:t="{}",onlyIfMissing:n=`${ht}`})=>{let r=X(n),i=Dt(t);e(()=>De(i,r))})}};var yn={type:2,name:We,onGlobalInit:async e=>{j(We,({selector:t,useViewTransition:n=`${bt}`})=>{if(!t.length)throw $("NoSelectorProvided",e);let r=X(n),i=document.querySelectorAll(t),a=()=>{for(let o of i)o.remove()};r&&ve?Se.startViewTransition(()=>a()):a()})}};var bn={type:2,name:qe,onGlobalInit:async e=>{let{batch:t}=e;j(qe,({paths:n=""})=>{let r=n.split(`
`).map(i=>i.trim());if(!r?.length)throw $("NoPathsProvided",e);t(()=>{Xe(...r)})})}};var hn={type:1,name:"attr",valReq:1,onLoad:({el:e,key:t,genRX:n,computed:r,effect:i})=>{let{deps:a,rxFn:o}=n();if(t===""){let l=r(a,o);return i([l],async c=>{for(let[u,p]of Object.entries(c))p===!1?e.removeAttribute(u):e.setAttribute(u,p)})}t=B(t);let s=r(a,o);return i([s],async l=>{let c;typeof l=="string"?c=l:c=JSON.stringify(l),!c||c==="false"||c==="null"||c==="undefined"?e.removeAttribute(t):e.setAttribute(t,c)})}};var sr=/^data:(?<mime>[^;]+);base64,(?<contents>.*)$/,Sn=["change","input","keydown"],vn={type:1,name:"bind",keyReq:3,valReq:3,onLoad:e=>{let{el:t,key:n,mods:r,value:i,effect:a,batch:o}=e,s=t,l=n?N(n,r):J(i),c=t.tagName.toLowerCase(),u=c.includes("input"),p=c.includes("select"),d=t.getAttribute("type"),T=t.hasAttribute("value"),m="",D=u&&d==="checkbox";D&&(m=T?"":!1);let y=u&&d==="number";y&&(m=0);let b=u&&d==="radio";b&&(t.getAttribute("name")?.length||t.setAttribute("name",l));let S=u&&d==="file",{dep:P,inserted:O}=o(()=>se(l,m)),R=-1;Array.isArray(P.value)&&(t.getAttribute("name")===null&&t.setAttribute("name",l),R=[...document.querySelectorAll(`[name="${l}"]`)].findIndex(v=>v===e.el));let x=R>=0,C=()=>[...oe(l)],f=()=>{let v=oe(l);x&&!p&&(v=v[R]||m);let A=`${v}`;if(D||b)typeof v=="boolean"?s.checked=v:s.checked=A===s.value;else if(p){let k=t;if(k.multiple){if(!x)throw E("BindSelectMultiple",e);for(let F of k.options){if(F?.disabled)continue;let L=y?Number(F.value):F.value;F.selected=v.includes(L)}}else k.value=A}else S||("value"in t?t.value=A:t.setAttribute("value",A))},M=async()=>{let v=oe(l);if(x){let L=v;for(;R>=L.length;)L.push(m);v=L[R]||m}let A=(L,G)=>{let _=G;x&&!p&&!S&&(_=C(),_[R]=G),q(L,_)};if(S){let L=[...s?.files||[]],G=[],_=[],pt=[];await Promise.all(L.map(ft=>new Promise(In=>{let ee=new FileReader;ee.onload=()=>{if(typeof ee.result!="string")throw E("InvalidFileResultType",e,{resultType:typeof ee.result});let Ie=ee.result.match(sr);if(!Ie?.groups)throw E("InvalidDataUri",e,{result:ee.result});G.push(Ie.groups.contents),_.push(Ie.groups.mime),pt.push(ft.name)},ee.onloadend=()=>In(void 0),ee.readAsDataURL(ft)}))),o(()=>{A(l,G),A(`${l}Mimes`,_),A(`${l}Names`,pt)});return}let k=s.value||"",F;if(D){let L=s.checked||s.getAttribute("checked")==="true";T?F=L?k:"":F=L}else if(p){let G=[...t.selectedOptions];x?F=G.filter(_=>_.selected).map(_=>_.value):F=G[0]?.value||m}else typeof v=="boolean"?F=!!k:typeof v=="number"?F=Number(k):F=k||"";o(()=>{A(l,F)})};O&&M();for(let v of Sn)t.addEventListener(v,M);let h=v=>{v.persisted&&M()};window.addEventListener("pageshow",h);let w=a([P],()=>f());return()=>{w();for(let v of Sn)t.removeEventListener(v,M);window.removeEventListener("pageshow",h)}}};var En={type:1,name:"class",valReq:1,onLoad:({el:e,key:t,mods:n,genRX:r,computed:i,effect:a})=>{let o=e.classList,{deps:s,rxFn:l}=r(),c=i(s,l);return a([c],u=>{if(t===""){let p=u;for(let[d,T]of Object.entries(p)){let m=d.split(/\s+/);T?o.add(...m):o.remove(...m)}}else{let p=B(t);p=N(p,n),u?o.add(p):o.remove(p)}})}};var Tn={type:1,name:"indicator",keyReq:3,valReq:3,onLoad:e=>{let{el:t,key:n,mods:r,value:i,batch:a}=e,o=n?N(n,r):J(i),{dep:s}=a(()=>se(o,!1));if(!(s instanceof re))throw E("not_signal",e,{signalName:o});let l=c=>{let{type:u,el:p}=c.detail;if(p===t)switch(u){case ke:s.value=!0;break;case Fe:s.value=!1;break}};return document.addEventListener(Y,l),()=>{s.value=!1,document.removeEventListener(Y,l)}}};var An={type:1,name:"jsonSignals",keyReq:2,valReq:2,onLoad:e=>{let{el:t}=e;t instanceof HTMLElement||E("JsonSignalsInvalidElement",e);let n=()=>{t.textContent=Pe(!0)};return n(),document.addEventListener(z,n),()=>{document.removeEventListener(z,n)}}};function Z(e){if(!e||e.size<=0)return 0;for(let t of e){if(t.endsWith("ms"))return Number(t.replace("ms",""));if(t.endsWith("s"))return Number(t.replace("s",""))*1e3;try{return Number.parseFloat(t)}catch{}}return 0}function te(e,t,n=!1){return e?e.has(t.toLowerCase()):n}function at(e,t){return(...n)=>{setTimeout(()=>{e(...n)},t)}}function ar(e,t,n=!1,r=!0){let i=-1,a=()=>i&&clearTimeout(i);return(...o)=>{a(),n&&!i&&e(...o),i=setTimeout(()=>{r&&e(...o),a()},t)}}function lr(e,t,n=!0,r=!1){let i=!1;return(...a)=>{i||(n&&e(...a),i=!0,setTimeout(()=>{i=!1,r&&e(...a)},t))}}function fe(e,t){let n=t.get("delay");if(n){let a=Z(n);e=at(e,a)}let r=t.get("debounce");if(r){let a=Z(r),o=te(r,"leading",!1),s=!te(r,"notrail",!1);e=ar(e,a,o,s)}let i=t.get("throttle");if(i){let a=Z(i),o=!te(i,"noleading",!1),s=te(i,"trail",!1);e=lr(e,a,o,s)}return e}var xn={type:1,name:"on",keyReq:1,valReq:1,argNames:["evt"],onLoad:e=>{let{el:t,key:n,mods:r,genRX:i,evalRX:a}=e,o=t;r.has("window")&&(o=window);let{dm:s,deps:l,rxFn:c}=i(),u=m=>{if(m){if(r.has("prevent")&&m.preventDefault(),r.has("stop")&&m.stopPropagation(),!(m.isTrusted||m instanceof CustomEvent||r.has("trust")))return;e.evt=m}a(c,s,l,m)};u=fe(u,r),u=K(u,r);let p={capture:!1,passive:!1,once:!1};if(r.has("capture")&&(p.capture=!0),r.has("passive")&&(p.passive=!0),r.has("once")&&(p.once=!0),r.has("outside")){o=document;let m=u;u=D=>{let y=D?.target;t.contains(y)||m(D)}}let T=B(n);if(T=N(T,r),T===Y&&(o=document),t instanceof HTMLFormElement&&T==="submit"){let m=u;u=D=>{D?.preventDefault(),m(D)}}return o.addEventListener(T,u,p),()=>{o.removeEventListener(T,u)}}};var lt=new WeakSet,Mn={type:1,name:"onIntersect",keyReq:2,onLoad:({el:e,mods:t,genRX:n,evalRX:r})=>{let{dm:i,deps:a,rxFn:o}=n(),s=()=>r(o,i,a);s=fe(s,t),s=K(s,t);let l={threshold:0};t.has("full")?l.threshold=1:t.has("half")&&(l.threshold=.5);let c=new IntersectionObserver(u=>{for(let p of u)p.isIntersecting&&(s(),lt.has(e)&&c.disconnect())},l);return c.observe(e),t.has("once")&&lt.add(e),()=>{t.has("once")||lt.delete(e),c.disconnect()}}};var wn={type:1,name:"onInterval",keyReq:2,valReq:1,onLoad:({mods:e,genRX:t,evalRX:n})=>{let{dm:r,deps:i,rxFn:a}=t(),o=()=>n(a,r,i);o=K(o,e);let s=1e3,l=e.get("duration");l&&(s=Z(l),te(l,"leading",!1)&&o());let c=setInterval(o,s);return()=>{clearInterval(c)}}};var ct=new WeakSet,Rn={type:1,name:"onLoad",keyReq:2,valReq:1,onLoad:({el:e,mods:t,genRX:n,evalRX:r})=>{let{dm:i,deps:a,rxFn:o}=n(),s=()=>r(o,i,a);s=K(s,t);let l=0,c=t.get("delay");return c&&(l=Z(c)),s=at(s,l),ct.has(e)||s(),t.has("once")&&ct.add(e),()=>{t.has("once")||ct.delete(e)}}};function ut(e,t){return t=t.replaceAll(".","\\.").replaceAll("**",ne).replaceAll("*","[^\\.]*").replaceAll(ne,".*"),RegExp(`^${t}$`).test(e)}function Ve(e){let t=[],n=e.split(/\s+/).filter(r=>r!=="");n=n.map(r=>J(r));for(let r of n)for(let i of ie())ut(i,r)&&t.push(i);return t}var Dn={type:1,name:"onSignalChange",valReq:1,argNames:["evt"],onLoad:({key:e,mods:t,genRX:n,evalRX:r})=>{let{dm:i,deps:a,rxFn:o}=n(),s=c=>r(o,i,a,c);s=fe(s,t),s=K(s,t);let l=c=>{if(e!==""){let u=N(e,t),{added:p,removed:d,updated:T}=c.detail;if(![...p,...d,...T].some(m=>ut(m,u)))return}s(c)};return document.addEventListener(z,l),()=>{document.removeEventListener(z,l)}}};var Pn={type:1,name:"ref",keyReq:3,valReq:3,onLoad:({el:e,key:t,mods:n,value:r,batch:i})=>{let a=t?N(t,n):J(r);i(()=>{q(a,e)})}};var Ln="none",Cn="display",kn={type:1,name:"show",keyReq:2,valReq:1,onLoad:({el:{style:e},genRX:t,computed:n,effect:r})=>{let{deps:i,rxFn:a}=t(),o=n(i,a);return r([o],async s=>{s?e.display===Ln&&e.removeProperty(Cn):e.setProperty(Cn,Ln)})}};var Fn={type:1,name:"text",keyReq:2,valReq:1,onLoad:e=>{let{el:t,genRX:n,computed:r,effect:i}=e,{deps:a,rxFn:o}=n();t instanceof HTMLElement||E("TextInvalidElement",e);let s=r(a,o);return i([s],l=>{t.textContent=`${l}`})}};var Nn={type:3,name:"setAll",fn:({batch:e},t,n)=>{e(()=>{let r=Ve(t);for(let i of r)q(i,n)})}};var Vn={type:3,name:"toggleAll",fn:({batch:e},t)=>{e(()=>{let n=Ve(t);for(let r of n)q(r,!oe(r))})}};Le(zt,Jt,Qt,Xt,Bt,fn,gn,yn,bn,Yt,hn,vn,En,Tn,An,xn,Mn,wn,Rn,Dn,Pn,kn,Fn,Nn,Vn);nt();export{nt as apply,Le as load,Ht as setAlias};
//# sourceMappingURL=datastar.js.map
