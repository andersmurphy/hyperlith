// Datastar v1.0.0-RC.11
<<<<<<< HEAD
var ct=/ðŸ–•JS_DSðŸš€/.source,De=ct.slice(0,5),se=ct.slice(4),I="datastar",ut="Datastar-Request",ft=1e3,pt="type module",mt=!1,dt=!1,gt=!0,je="morph",yt="inner",vt="outer",ht="prepend",bt="append",Et="before",St="after",xt="upsertAttributes",Tt=je,ye="datastar-merge-fragments",ve="datastar-merge-signals",Ue="datastar-remove-fragments",Ke="datastar-remove-signals",he="datastar-execute-script";var ie=e=>e.trim()==="true",W=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").replace(/([a-z])([0-9]+)/gi,"$1-$2").replace(/([0-9]+)([a-z])/gi,"$1-$2").toLowerCase(),be=e=>W(e).replace(/-./g,t=>t[1].toUpperCase()),Ee=e=>W(e).replace(/-/g,"_"),$n=e=>be(e).replace(/(^.|(?<=\.).)/g,t=>t[0].toUpperCase()),Rt=e=>Function(`return Object.assign({}, ${e})`)(),Q=e=>e.startsWith("$")?e.slice(1):e,Gn={kebab:W,snake:Ee,pascal:$n};function k(e,t){for(let n of t.get("case")||[]){let r=Gn[n];r&&(e=r(e))}return e}var _n="computed",At={type:"attribute",name:_n,keyReq:"must",valReq:"must",isExpr:!0,onLoad:({key:e,mods:t,genRX:n,computed:r,batch:s})=>{e=k(e,t);let{deps:o,rxFn:i}=n();s(()=>{r(o,i,e)})}};var j=`${I}-signal-change`;var Fe=[],Se=[],xe=[];function ke(e){Fe.length=0,Se.length=0,xe.length=0;let t=e();return(Fe.length||Se.length||xe.length)&&document.dispatchEvent(new CustomEvent(j,{detail:{added:[...Fe],removed:[...Se],updated:[...xe]}})),t}var z=[],X=new Map;function oe(){return z}function Xe(e){return X.get(e)}function wt(e,t){Je(e),z.push(e),X.set(e,t),z.sort((n,r)=>r.length-n.length),Fe.push({path:e,value:t.value})}function q(e,t){let n=X.get(e);n?Qe(n)&&(n.value=t):Te(t,e)}function ae(e){return X.get(e)?.value}function le(e,t){let n=!1,r=X.get(e);return r||(n=!0,r=Te(t,e)),{dep:r,inserted:n}}function Oe(e,t=!1){let n=Dt(e);for(let[r,s]of Object.entries(n))X.has(r)&&t||q(r,s)}function Je(...e){let t=e.flatMap(n=>n.split(" "));for(let n of t){let r;if(X.delete(n)){let s=z.indexOf(n);z.splice(s,1),Se.push({path:n})}else if(r=z.filter(s=>s.startsWith(`${n}.`))){for(let o of r)X.delete(o),Se.push({path:o});let s=z.indexOf(r[0]);z.splice(s,r.length)}}}function Ie(e=!0,t=!1){return JSON.stringify(Wn(t),null,e?2:0)}function Wn(e,...t){let n=new Map;for(let s of z)if(!(e&&s.match(/^_|\._/))){if(t.length>0){let o=!1;for(let i of t)if(s.startsWith(i)){o=!0;break}if(!o)continue}n.set(s,X.get(s)?.value)}return jn(n)}function qn(e){return Object.prototype.toString.call(e)==="[object Object]"}function Dt(e,t=[],n="."){return Object.keys(e).reduce((r,s)=>Object.assign({},r,qn(e[s])?Dt(e[s],t.concat([s]),n):{[t.concat([s]).join(n)]:e[s]}),{})}function jn(e,t="."){let n={};for(let[r,s]of e.entries()){let o=r.split(t),i=n;for(let a=0;a<o.length-1;a++){let l=o[a];i[l]||(i[l]={}),i=i[l]}i[o[o.length-1]]=s}return n}function Ct(e,t,n,...r){return ke(()=>e(...r,...n.map((s,o)=>t[o]?s:s.value)))}var Le=[],Be=[],Ce=0,ze=0,Un=(e,t)=>t(e[0].value),Kn=(e,t)=>t(e[0].value,e[1].value),Bn=(e,t)=>t(e[0].value,e[1].value,e[2].value),zn=(e,t)=>t(e[0].value,e[1].value,e[2].value,e[3].value),Xn=(e,t,n)=>{for(let r=0;r<n;r++)Le[n][r]=e[r].value;return t(...Le[n])};function Ft(e,t){let n=e.length;return n===0?t:n===1?Un.bind(null,e,t):n===2?Kn.bind(null,e,t):n===3?Bn.bind(null,e,t):n===4?zn.bind(null,e,t):(Le[n]||(Le[n]=Array(n)),Xn.bind(null,e,t,n))}function Qe(e){return e.type==="signal"}function Ye(e){return e.type==="computed"}function Te(e,t){let n={type:"signal",path:t,previousValue:e,_value:e,flags:1};return Object.defineProperty(n,"value",{get:Jn.bind(n),set:Qn.bind(n)}),t&&wt(t,n),n}function Ze(e,t,n){let r={type:"computed",path:n,flags:17,getter:Ft(e,t)};Object.defineProperty(r,"value",{get:Yn.bind(r)});for(let s of e)It(s,r);return n&&wt(n,r),r}function et(e,t){let n={type:"effect",fn:Ft(e,t),flags:2};for(let r of e)It(r,n);return n.fn(),Zn.bind(n)}function Jn(){let e=this._value;if(this.flags&16&&Pt(this,e)){let t=this.subs;t&&Pe(t)}return e}function Qn(e){if(this._value!==(this._value=e)){this.path&&xe.push({path:this.path,value:e}),this.flags=17;let t=this.subs;if(t){let n=t,r=n.nextSub,s;e:do{let o=n.sub,i=o.flags;if(i&3&&(i&60?i&12?i&4?!(i&48)&&Gt(n,o)?(o.flags=i|40,i&=1):i=0:o.flags=i&-9|32:i=0:o.flags=i|32,i&2&&kt(o),i&1&&Ye(o))){let a=o.subs;if(a){n=a,a.nextSub&&(s={value:r,prev:s},r=n.nextSub);continue}}if(n=r){r=n.nextSub;continue}for(;s;)if(n=s.value,s=s.prev,n){r=n.nextSub;continue e}break}while(!0);for(;Ce<ze;){let o=Be[Ce];Be[Ce++]=void 0,Ot(o,o.flags&=-65)}Ce=0,ze=0}}}function Yn(){let e=this.flags;if(e&16||e&32&&$t(this.deps,this)){if(Lt(this)){let t=this.subs;t&&Pe(t)}}else e&32&&(this.flags=e&-33);return this._value}function Zn(){let e=this.deps;for(;e;)e=Nt(e,this);this.flags=0}function Lt(e){Vt(e);try{return e._value!==(e._value=e.getter())?(e.path&&xe.push({path:e.path,value:e._value}),!0):!1}finally{Ht(e)}}function Pt(e,t){return e.flags=1,e.previousValue!==(e.previousValue=t)}function Mt(e){return Ye(e)?Lt(e):Pt(e,e._value)}function kt(e){let t=e.flags;t&64||(e.flags=t|64,Be[ze++]=e)}function Ot(e,t){if(t&16||t&32&&$t(e.deps,e)){Vt(e);try{e.fn()}finally{Ht(e)}return}t&32&&(e.flags=t&-33);let n=e.deps;for(;n;){let r=n.dep,s=r.flags;s&64&&Ot(r,r.flags=s&-65),n=n.nextDep}}function It(e,t){let n=t.depsTail;if(n&&n.dep===e)return;let r,s=t.flags&4;if(s&&(r=n?n.nextDep:t.deps,r&&r.dep===e)){t.depsTail=r;return}let o=e.subsTail;if(o&&o.sub===t&&(!s||Gt(o,t)))return;let i=t.depsTail=e.subsTail={dep:e,sub:t,prevDep:n,nextDep:r,prevSub:o,nextSub:void 0};r&&(r.prevDep=i),n?n.nextDep=i:t.deps=i,o?o.nextSub=i:e.subs=i}function Nt(e,t=e.sub){let n=e.dep,r=e.prevDep,s=e.nextDep,o=e.nextSub,i=e.prevSub;if(s?s.prevDep=r:t.depsTail=r,r?r.nextDep=s:t.deps=s,o?o.prevSub=i:n.subsTail=i,i)i.nextSub=o;else if((n.subs=o)===void 0&&Ye(n)){let a=n.deps;if(a){n.flags=17;do a=Nt(a,n);while(a)}}return s}function Vt(e){e.depsTail=void 0,e.flags=e.flags&-57|4}function Ht(e){e.flags&=-5}function $t(e,t){let n,r=0;e:do{let s=e.dep,o=s.flags,i=!1;if(t.flags&16)i=!0;else if((o&17)===17){if(Mt(s)){let a=s.subs;a.nextSub&&Pe(a),i=!0}}else if((o&33)===33){(e.nextSub||e.prevSub)&&(n={value:e,prev:n});let a=s;e=a.deps,t=a,++r;continue}if(!i&&e.nextDep){e=e.nextDep;continue}for(;r;){--r;let a=t,l=a.subs,c=l.nextSub;if(c?(e=n.value,n=n.prev):e=l,i){if(Mt(a)){c&&Pe(l),t=e.sub;continue}}else t.flags&=-33;if(t=e.sub,e.nextDep){e=e.nextDep;continue e}i=!1}return i}while(!0)}function Pe(e){do{let t=e.sub,n=e.nextSub,r=t.flags;(r&48)===32&&(t.flags=r|16,r&2&&kt(t)),e=n}while(e)}function Gt(e,t){let n=t.depsTail;if(n){let r=t.deps;do{if(r===e)return!0;if(r===n)break;r=r.nextDep}while(r)}return!1}var _t={type:"attribute",name:"signals",isExpr:!0,onLoad:e=>{let{key:t,mods:n,value:r,genRX:s,evalRX:o,batch:i}=e,{deps:a,dm:l,rxFn:c}=s(),u=n.has("ifmissing");if(t!==""){let f=k(t,n),y=r===""?r:o(c,l,a);i(()=>{u?le(f,y):q(f,y)})}else{let f=o(c,l,a);i(()=>{Oe(f,u)})}}};function Ne(e){return e instanceof HTMLElement||e instanceof SVGElement}function ce(e,t){let n=Y("ignore"),r=`${n}__self`;if(!Ne(e)||e.closest(`[${n}]`))return;let s=document.createTreeWalker(e,1);for(;e;){if(Ne(e)){if(e.hasAttribute(n)){e=s.nextSibling();continue}e.hasAttribute(r)||t(e)}e=s.nextNode()}}var er="https://data-star.dev/errors";function Wt(e,t,n={}){let r=new Error;r.name=`${I} ${e} error`;let s=Ee(t),o=new URLSearchParams({metadata:JSON.stringify(n)}).toString(),i=JSON.stringify(n,null,2);return r.message=`${t}
=======
var ct=/ðŸ–•JS_DSðŸš€/.source,De=ct.slice(0,5),se=ct.slice(4),I="datastar",ut="Datastar-Request",ft=1e3,pt="type module",mt=!1,dt=!1,gt=!0,je="morph",yt="inner",vt="outer",ht="prepend",bt="append",Et="before",St="after",xt="upsertAttributes",Tt=je,ye="datastar-merge-fragments",ve="datastar-merge-signals",Ue="datastar-remove-fragments",Ke="datastar-remove-signals",he="datastar-execute-script";var ie=e=>e.trim()==="true",W=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").replace(/([a-z])([0-9]+)/gi,"$1-$2").replace(/([0-9]+)([a-z])/gi,"$1-$2").toLowerCase(),be=e=>W(e).replace(/-./g,t=>t[1].toUpperCase()),Ee=e=>W(e).replace(/-/g,"_"),$n=e=>be(e).replace(/(^.|(?<=\.).)/g,t=>t[0].toUpperCase()),Rt=e=>Function(`return Object.assign({}, ${e})`)(),Q=e=>e.startsWith("$")?e.slice(1):e,Gn={kebab:W,snake:Ee,pascal:$n};function k(e,t){for(let n of t.get("case")||[]){let r=Gn[n];r&&(e=r(e))}return e}var _n="computed",At={type:"attribute",name:_n,keyReq:"must",valReq:"must",isExpr:!0,onLoad:({key:e,mods:t,genRX:n,computed:r,batch:s})=>{e=k(e,t);let{deps:o,rxFn:i}=n();s(()=>{r(o,i,e)})}};var j=`${I}-signal-change`;var Fe=[],Se=[],xe=[];function ke(e){Fe.length=0,Se.length=0,xe.length=0;let t=e();return(Fe.length||Se.length||xe.length)&&document.dispatchEvent(new CustomEvent(j,{detail:{added:[...Fe],removed:[...Se],updated:[...xe]}})),t}var z=[],X=new Map;function oe(){return z}function Xe(e){return X.get(e)}function wt(e,t){Je(e),z.push(e),X.set(e,t),z.sort((n,r)=>r.length-n.length),Fe.push([e,t.value])}function q(e,t){let n=X.get(e);n?Qe(n)&&(n.value=t):Te(t,e)}function ae(e){return X.get(e)?.value}function le(e,t){let n=!1,r=X.get(e);return r||(n=!0,r=Te(t,e)),{dep:r,inserted:n}}function Oe(e,t=!1){let n=Dt(e);for(let[r,s]of Object.entries(n))X.has(r)&&t||q(r,s)}function Je(...e){let t=e.flatMap(n=>n.split(" "));for(let n of t){let r;if(X.delete(n)){let s=z.indexOf(n);z.splice(s,1),Se.push([n])}else if(r=z.filter(s=>s.startsWith(`${n}.`))){for(let o of r)X.delete(o),Se.push([o]);let s=z.indexOf(r[0]);z.splice(s,r.length)}}}function Ie(e=!0,t=!1){return JSON.stringify(Wn(t),null,e?2:0)}function Wn(e,...t){let n=new Map;for(let s of z)if(!(e&&s.match(/^_|\._/))){if(t.length>0){let o=!1;for(let i of t)if(s.startsWith(i)){o=!0;break}if(!o)continue}n.set(s,X.get(s)?.value)}return jn(n)}function qn(e){return Object.prototype.toString.call(e)==="[object Object]"}function Dt(e,t=[],n="."){return Object.keys(e).reduce((r,s)=>Object.assign({},r,qn(e[s])?Dt(e[s],t.concat([s]),n):{[t.concat([s]).join(n)]:e[s]}),{})}function jn(e,t="."){let n={};for(let[r,s]of e.entries()){let o=r.split(t),i=n;for(let a=0;a<o.length-1;a++){let l=o[a];i[l]||(i[l]={}),i=i[l]}i[o[o.length-1]]=s}return n}function Ct(e,t,n,...r){return ke(()=>e(...r,...n.map((s,o)=>t[o]?s:s.value)))}var Le=[],Be=[],Ce=0,ze=0,Un=(e,t)=>t(e[0].value),Kn=(e,t)=>t(e[0].value,e[1].value),Bn=(e,t)=>t(e[0].value,e[1].value,e[2].value),zn=(e,t)=>t(e[0].value,e[1].value,e[2].value,e[3].value),Xn=(e,t,n)=>{for(let r=0;r<n;r++)Le[n][r]=e[r].value;return t(...Le[n])};function Ft(e,t){let n=e.length;return n===0?t:n===1?Un.bind(null,e,t):n===2?Kn.bind(null,e,t):n===3?Bn.bind(null,e,t):n===4?zn.bind(null,e,t):(Le[n]||(Le[n]=Array(n)),Xn.bind(null,e,t,n))}function Qe(e){return e.type==="signal"}function Ye(e){return e.type==="computed"}function Te(e,t){let n={type:"signal",path:t,previousValue:e,_value:e,flags:1};return Object.defineProperty(n,"value",{get:Jn.bind(n),set:Qn.bind(n)}),t&&wt(t,n),n}function Ze(e,t,n){let r={type:"computed",path:n,flags:17,getter:Ft(e,t)};Object.defineProperty(r,"value",{get:Yn.bind(r)});for(let s of e)It(s,r);return n&&wt(n,r),r}function et(e,t){let n={type:"effect",fn:Ft(e,t),flags:2};for(let r of e)It(r,n);return n.fn(),Zn.bind(n)}function Jn(){let e=this._value;if(this.flags&16&&Pt(this,e)){let t=this.subs;t&&Pe(t)}return e}function Qn(e){if(this._value!==(this._value=e)){this.path&&xe.push([this.path,e]),this.flags=17;let t=this.subs;if(t){let n=t,r=n.nextSub,s;e:do{let o=n.sub,i=o.flags;if(i&3&&(i&60?i&12?i&4?!(i&48)&&Gt(n,o)?(o.flags=i|40,i&=1):i=0:o.flags=i&-9|32:i=0:o.flags=i|32,i&2&&kt(o),i&1&&Ye(o))){let a=o.subs;if(a){n=a,a.nextSub&&(s={value:r,prev:s},r=n.nextSub);continue}}if(n=r){r=n.nextSub;continue}for(;s;)if(n=s.value,s=s.prev,n){r=n.nextSub;continue e}break}while(!0);for(;Ce<ze;){let o=Be[Ce];Be[Ce++]=void 0,Ot(o,o.flags&=-65)}Ce=0,ze=0}}}function Yn(){let e=this.flags;if(e&16||e&32&&$t(this.deps,this)){if(Lt(this)){let t=this.subs;t&&Pe(t)}}else e&32&&(this.flags=e&-33);return this._value}function Zn(){let e=this.deps;for(;e;)e=Nt(e,this);this.flags=0}function Lt(e){Vt(e);try{return e._value!==(e._value=e.getter())?(e.path&&xe.push([e.path,e._value]),!0):!1}finally{Ht(e)}}function Pt(e,t){return e.flags=1,e.previousValue!==(e.previousValue=t)}function Mt(e){return Ye(e)?Lt(e):Pt(e,e._value)}function kt(e){let t=e.flags;t&64||(e.flags=t|64,Be[ze++]=e)}function Ot(e,t){if(t&16||t&32&&$t(e.deps,e)){Vt(e);try{e.fn()}finally{Ht(e)}return}t&32&&(e.flags=t&-33);let n=e.deps;for(;n;){let r=n.dep,s=r.flags;s&64&&Ot(r,r.flags=s&-65),n=n.nextDep}}function It(e,t){let n=t.depsTail;if(n&&n.dep===e)return;let r,s=t.flags&4;if(s&&(r=n?n.nextDep:t.deps,r&&r.dep===e)){t.depsTail=r;return}let o=e.subsTail;if(o&&o.sub===t&&(!s||Gt(o,t)))return;let i=t.depsTail=e.subsTail={dep:e,sub:t,prevDep:n,nextDep:r,prevSub:o,nextSub:void 0};r&&(r.prevDep=i),n?n.nextDep=i:t.deps=i,o?o.nextSub=i:e.subs=i}function Nt(e,t=e.sub){let n=e.dep,r=e.prevDep,s=e.nextDep,o=e.nextSub,i=e.prevSub;if(s?s.prevDep=r:t.depsTail=r,r?r.nextDep=s:t.deps=s,o?o.prevSub=i:n.subsTail=i,i)i.nextSub=o;else if((n.subs=o)===void 0&&Ye(n)){let a=n.deps;if(a){n.flags=17;do a=Nt(a,n);while(a)}}return s}function Vt(e){e.depsTail=void 0,e.flags=e.flags&-57|4}function Ht(e){e.flags&=-5}function $t(e,t){let n,r=0;e:do{let s=e.dep,o=s.flags,i=!1;if(t.flags&16)i=!0;else if((o&17)===17){if(Mt(s)){let a=s.subs;a.nextSub&&Pe(a),i=!0}}else if((o&33)===33){(e.nextSub||e.prevSub)&&(n={value:e,prev:n});let a=s;e=a.deps,t=a,++r;continue}if(!i&&e.nextDep){e=e.nextDep;continue}for(;r;){--r;let a=t,l=a.subs,c=l.nextSub;if(c?(e=n.value,n=n.prev):e=l,i){if(Mt(a)){c&&Pe(l),t=e.sub;continue}}else t.flags&=-33;if(t=e.sub,e.nextDep){e=e.nextDep;continue e}i=!1}return i}while(!0)}function Pe(e){do{let t=e.sub,n=e.nextSub,r=t.flags;(r&48)===32&&(t.flags=r|16,r&2&&kt(t)),e=n}while(e)}function Gt(e,t){let n=t.depsTail;if(n){let r=t.deps;do{if(r===e)return!0;if(r===n)break;r=r.nextDep}while(r)}return!1}var _t={type:"attribute",name:"signals",isExpr:!0,onLoad:e=>{let{key:t,mods:n,value:r,genRX:s,evalRX:o,batch:i}=e,{deps:a,dm:l,rxFn:c}=s(),u=n.has("ifmissing");if(t!==""){let f=k(t,n),y=r===""?r:o(c,l,a);i(()=>{u?le(f,y):q(f,y)})}else{let f=o(c,l,a);i(()=>{Oe(f,u)})}}};function Ne(e){return e instanceof HTMLElement||e instanceof SVGElement}function ce(e,t){let n=Y("ignore"),r=`${n}__self`;if(!Ne(e)||e.closest(`[${n}]`))return;let s=document.createTreeWalker(e,1);for(;e;){if(Ne(e)){if(e.hasAttribute(n)){e=s.nextSibling();continue}e.hasAttribute(r)||t(e)}e=s.nextNode()}}var er="https://data-star.dev/errors";function Wt(e,t,n={}){let r=new Error;r.name=`${I} ${e} error`;let s=Ee(t),o=new URLSearchParams({metadata:JSON.stringify(n)}).toString(),i=JSON.stringify(n,null,2);return r.message=`${t}
>>>>>>> develop
More info: ${er}/${e}/${s}?${o}
Context: ${i}`,r}function H(e,t,n={}){let r={plugin:{name:t.plugin.name,type:t.plugin.type}};return Wt("init",e,Object.assign(r,n))}function v(e,t,n={}){let r={plugin:{name:t.plugin.name,type:t.plugin.type},element:{id:t.el.id,tag:t.el.tagName},expression:{rawKey:t.rawKey,key:t.key,value:t.value,validSignals:oe(),fnContent:t.fnContent}};return Wt("runtime",e,Object.assign(r,n))}var Re={},nt=[],ue=new Map,tt=null,Ae="";function qt(e){Ae=e}function Y(e){return Ae?`data-${Ae}-${e}`:`data-${e}`}function Ve(...e){for(let t of e){let n={plugin:t,actions:Re,removals:ue,applyToElement:He,batch:ke,signal:Te,computed:Ze,effect:et},r=t.type;if(r==="action")Re[t.name]=t;else if(r==="attribute")nt.push(t),t.onGlobalInit?.(n);else if(r==="watcher")t.onGlobalInit?.(n);else throw H("InvalidPluginType",n)}nt.sort((t,n)=>{let r=n.name.length-t.name.length;return r!==0?r:t.name.localeCompare(n.name)})}function rt(e=document.documentElement){queueMicrotask(()=>{if(ce(e,He),!tt){let t=e===document.documentElement?document.body:e;tt=new MutationObserver(tr),tt.observe(t,{subtree:!0,childList:!0,attributes:!0})}})}function tr(e){let t=`[${Y("ignore")}]`,n=new Set;for(let{target:s,type:o,addedNodes:i,removedNodes:a}of e)switch(o){case"childList":{for(let l of a)ce(l,c=>{let u=ue.get(c);if(ue.delete(c)){for(let f of u.values())f();u.clear()}});for(let l of i)ce(l,c=>n.add(c))}break;case"attributes":{if(!Ne(s)||s.closest(t))continue;n.add(s);break}}let r=Array.from(n);r.sort((s,o)=>s.compareDocumentPosition(o)&Node.DOCUMENT_POSITION_FOLLOWING?-1:1);for(let s of r)He(s)}function jt(e){let t=5831,n=e.length;for(;n--;)t+=(t<<5)+e.charCodeAt(n);return(t>>>0).toString(36)}function He(e){let t=[],n=ue.get(e)||new Map,r=new Map(n);for(let[s,o]of Object.entries(e.dataset)){if(!s.startsWith(Ae))continue;let i=jt(`${s}${o}`);r.delete(i)||t.push({key:s,value:o,hash:i})}for(let[s,o]of r)o(),n.delete(s);for(let{key:s,value:o,hash:i}of t){let a=nr(e,s,o);a&&n.set(i,a)}n.size&&ue.set(e,n)}function nr(e,t,n){let r=be(t.slice(Ae.length)),s=nt.find(y=>RegExp(`^${y.name}([A-Z]|_|$)`).test(r));if(!s)return;let[o,...i]=r.slice(s.name.length).split(/\_\_+/),a=!!o;a&&(o=be(o));let l=!!n,c={applyToElement:He,actions:Re,removals:ue,genRX:()=>rr(c,...s.argNames||[]),plugin:s,el:e,rawKey:r,key:o,value:n,mods:new Map,batch:ke,signal:Te,computed:Ze,effect:et,evalRX:Ct},u=s.keyReq||"allowed";if(a){if(u==="denied")throw v(`${s.name}KeyNotAllowed`,c)}else if(u==="must")throw v(`${s.name}KeyRequired`,c);let f=s.valReq||"allowed";if(l){if(f==="denied")throw v(`${s.name}ValueNotAllowed`,c)}else if(f==="must")throw v(`${s.name}ValueRequired`,c);if(u==="exclusive"||f==="exclusive"){if(a&&l)throw v(`${s.name}KeyAndValueProvided`,c);if(!a&&!l)throw v(`${s.name}KeyOrValueRequired`,c)}for(let y of i){let[h,...p]=y.split(".");c.mods.set(be(h),new Set(p.map(g=>g.toLowerCase())))}return s.onLoad(c)||(()=>{})}function rr(e,...t){let n=[],r=new Set,s="";if(e.plugin.isExpr){let p=/(\/(\\\/|[^\/])*\/|"(\\"|[^\"])*"|'(\\'|[^'])*'|`(\\`|[^`])*`|\(\s*((function)\s*\(\s*\)|(\(\s*\))\s*=>)\s*(?:\{[\s\S]*?\}|[^;)\{]*)\s*\)\s*\(\s*\)|[^;])+/gm,g=e.value.trim().match(p);if(g){let b=g.length-1,D=g[b].trim();D.startsWith("return")||(g[b]=`return (${D});`),s=g.join(`;
`)}}else s=e.value.trim();let o=new Map,i=RegExp(`(?:${De})(.*?)(?:${se})`,"gm");for(let p of s.matchAll(i)){let g=p[1],b=`dsEscaped${jt(g)}`;o.set(b,g),s=s.replace(De+g+se,b)}let a=(p,g)=>`${p}${Ee(g).replaceAll(/\./g,"_")}`,l=new Set(t),c=oe();if(c.length){let p=c.join("|"),g=RegExp(`\\$(${p})(\\s*[+&^\\/*|-]?=[^=]|\\+\\+|--)`,"gm"),b=[...s.matchAll(g)],D=(O,w,E="")=>{let T=RegExp(`\\$${O[1]}(?!\\w)`,"gm");s=s.replaceAll(T,w+E)};if(b.length){let O=`${I}Mut_`,w=new Set;for(let E of b){let T=E[1],d=Xe(T),R=a(O,T);d&&!w.has(d)&&(r.add(d),w.add(d),n.push(!0),l.add(R)),D(E,R,".value")}}let C=RegExp(`\\$(${p})(\\W|$)`,"gm"),M=[...s.matchAll(C)];if(M.length){let O=`${I}Pure_`,w=new Set;for(let E of M){let T=E[1],d=Xe(T),R=a(O,T);d&&!w.has(d)&&(r.add(d),w.add(d),n.push(!1),l.add(R)),D(E,R)}}}let u=new Set,f=RegExp(`@(${Object.keys(Re).join("|")})\\(`,"gm"),y=[...s.matchAll(f)],h=new Set;if(y.length){let p=`${I}Act_`;for(let g of y){let b=g[1],D=Re[b];if(!D)continue;u.add(b);let C=a(p,b);l.add(C),s=s.replace(`@${b}(`,`${C}(`),h.add((...M)=>D.fn(e,...M))}}for(let[p,g]of o)s=s.replace(p,g);e.fnContent=s;try{let p=Function("el",...l,s);return{dm:n,deps:[...r],rxFn:(...g)=>{try{return p(e.el,...g,...h)}catch(b){throw v("ExecuteExpression",e,{error:b.message})}}}}catch(p){throw v("GenerateExpression",e,{error:p.message})}}Ve(_t,At);var Z=`${I}-sse`,$e="started",Ge="finished",Ut="error",Kt="retrying",Bt="retrying";function U(e,t){document.addEventListener(Z,n=>{if(n.detail.type!==e)return;let{argsRaw:r}=n.detail;t(r)})}function te(e,t,n){document.dispatchEvent(new CustomEvent(Z,{detail:{type:e,el:t,argsRaw:n}}))}var zt=e=>`${e}`.includes("text/event-stream"),Xt=e=>e==="GET",Yt="text/event-stream",Zt="text/html",en="application/json",tn="application/javascript",sr=[Yt,Zt,en,tn],K=async(e,t,n,r)=>{let{el:s,evt:o}=e,{headers:i,contentType:a,includeLocal:l,excludeSignals:c,selector:u,openWhenHidden:f,retryInterval:y,retryScaler:h,retryMaxWaitMs:p,retryMaxCount:g,abort:b}=Object.assign({headers:{},contentType:"json",includeLocal:!1,excludeSignals:!1,selector:null,openWhenHidden:!1,retryInterval:ft,retryScaler:2,retryMaxWaitMs:3e4,retryMaxCount:10,abort:void 0},r),D=t.toLowerCase(),C=()=>{};try{if(!n?.length)throw v("SseNoUrlProvided",e,{action:D});let M={Accept:sr.join(", ")};M[ut]=!0,a==="json"&&(M["Content-Type"]="application/json");let O=Object.assign({},M,i),w={method:t,headers:O,openWhenHidden:f,retryInterval:y,retryScaler:h,retryMaxWaitMs:p,retryMaxCount:g,signal:b,onopen:async d=>{if(d.status>=400){let R=d.status.toString();te(Ut,s,{status:R})}},onmessage:d=>{if(!d.event.startsWith(I))return;let R=d.event,P={},G=d.data.split(`
`);for(let m of G){let S=m.indexOf(" "),A=m.slice(0,S),x=P[A];x||(x=[],P[A]=x);let L=m.slice(S+1);x.push(L)}let F={};for(let[m,S]of Object.entries(P))F[m]=S.join(`
`);te(R,s,F)},onerror:d=>{if(zt(d))throw v("InvalidContentType",e,{url:n});d&&(console.error(d.message),te(Kt,s,{message:d.message}))}},E=new URL(n,window.location.href),T=new URLSearchParams(E.search);if(a==="json"){if(!c){let d=Ie(!1,!l);Xt(t)?T.set(I,d):w.body=d}}else if(a==="form"){let d=u?document.querySelector(u):s.closest("form");if(d===null)throw u?v("SseFormNotFound",e,{action:D,selector:u}):v("SseClosestFormNotFound",e,{action:D});if(!d.checkValidity()){d.reportValidity(),C();return}let R=new FormData(d),P=s;if(s===d)o instanceof SubmitEvent&&(P=o.submitter);else{let m=S=>S.preventDefault();d.addEventListener("submit",m),C=()=>d.removeEventListener("submit",m)}if(P instanceof HTMLButtonElement){let m=P.getAttribute("name");m&&R.append(m,P.value)}let G=d.getAttribute("enctype")==="multipart/form-data";G||(O["Content-Type"]="application/x-www-form-urlencoded");let F=new URLSearchParams(R);if(Xt(t))for(let[m,S]of F)T.append(m,S);else G?w.body=R:w.body=F}else throw v("SseInvalidContentType",e,{action:D,contentType:a});te($e,s,{}),E.search=T.toString();try{await cr(E.toString(),s,w)}catch(d){if(!zt(d))throw v("SseFetchFailed",e,{method:t,url:n,error:d})}}finally{te(Ge,s,{}),C()}};async function ir(e,t){let n=e.getReader(),r;for(r=await n.read();!r.done;)t(r.value),r=await n.read()}function or(e){let t,n,r,s=!1;return function(i){t===void 0?(t=i,n=0,r=-1):t=lr(t,i);let a=t.length,l=0;for(;n<a;){s&&(t[n]===10&&(l=++n),s=!1);let c=-1;for(;n<a&&c===-1;++n)switch(t[n]){case 58:r===-1&&(r=n-l);break;case 13:s=!0;case 10:c=n;break}if(c===-1)break;e(t.subarray(l,c),r),l=n,r=-1}l===a?t=void 0:l!==0&&(t=t.subarray(l),n-=l)}}function ar(e,t,n){let r=Jt(),s=new TextDecoder;return function(i,a){if(i.length===0)n?.(r),r=Jt();else if(a>0){let l=s.decode(i.subarray(0,a)),c=a+(i[a+1]===32?2:1),u=s.decode(i.subarray(c));switch(l){case"data":r.data=r.data?`${r.data}
${u}`:u;break;case"event":r.event=u;break;case"id":e(r.id=u);break;case"retry":{let f=Number.parseInt(u,10);Number.isNaN(f)||t(r.retry=f);break}}}}}function lr(e,t){let n=new Uint8Array(e.length+t.length);return n.set(e),n.set(t,e.length),n}function Jt(){return{data:"",event:"",id:"",retry:void 0}}var Qt="last-event-id";function cr(e,t,{signal:n,headers:r,onopen:s,onmessage:o,onclose:i,onerror:a,openWhenHidden:l,fetch:c,retryInterval:u=1e3,retryScaler:f=2,retryMaxWaitMs:y=3e4,retryMaxCount:h=10,overrides:p,...g}){return new Promise((b,D)=>{let C={...r};C.accept||(C.accept=Yt);let M;function O(){M.abort(),document.hidden||G()}l||document.addEventListener("visibilitychange",O);let w=0;function E(){document.removeEventListener("visibilitychange",O),window.clearTimeout(w),M.abort()}n?.addEventListener("abort",()=>{E(),b()});let T=c??window.fetch,d=s??function(){},R=0,P=u;async function G(){M=new AbortController;try{let F=await T(e,{...g,headers:C,signal:M.signal});R=0,u=P,await d(F);let m=async(A,x,L,_,...N)=>{let ge={[L]:await x.text()};for(let re of N){let qe=`datastar-${W(re)}`,V=x.headers.get(qe);if(_){let J=_[re];J&&(typeof J=="string"?V=J:V=JSON.stringify(J))}V&&(ge[re]=V)}te(A,t,ge),E()},S=F.headers.get("Content-Type");if(S?.includes(Zt))return await m(ye,F,"fragments",p,"selector","mergeMode","useViewTransition");if(S?.includes(en))return await m(ve,F,"signals",p,"onlyIfMissing","mergeMode","useViewTransition");if(S?.includes(tn))return await m(he,F,"script",p,"autoRemove","attributes");await ir(F.body,or(ar(A=>{A?C[Qt]=A:delete C[Qt]},A=>{P=A,u=A},o))),i?.(),E(),b()}catch(F){if(!M.signal.aborted)try{let m=a?.(F)??u;window.clearTimeout(w),w=window.setTimeout(G,m),u*=f,u=Math.min(u,y),R++,R>=h?(te(Bt,t,{}),E(),D("Max retries reached.")):console.error(`Datastar failed to reach ${e.toString()} retrying in ${m}ms.`)}catch(m){E(),D(m)}}}G()})}var nn={type:"action",name:"delete",fn:async(e,t,n)=>K(e,"DELETE",t,{...n})};var rn={type:"action",name:"get",fn:async(e,t,n)=>K(e,"GET",t,{...n})};var sn={type:"action",name:"patch",fn:async(e,t,n)=>K(e,"PATCH",t,{...n})};var on={type:"action",name:"post",fn:async(e,t,n)=>K(e,"POST",t,{...n})};var an={type:"action",name:"put",fn:async(e,t,n)=>K(e,"PUT",t,{...n})};var ln={type:"watcher",name:he,onGlobalInit:async e=>{U(he,({autoRemove:t=`${gt}`,attributes:n=pt,script:r})=>{let s=ie(t);if(!r?.length)throw H("NoScriptProvided",e);let o=document.createElement("script");for(let i of n.split(`
`)){let a=i.indexOf(" "),l=a?i.slice(0,a):i,c=a?i.slice(a):"";o.setAttribute(l.trim(),c.trim())}o.text=r,document.head.appendChild(o),s&&o.remove()})}};var ur=document,Me=!!ur.startViewTransition;function B(e,t){if(t.has("viewtransition")&&Me){let n=e;e=(...r)=>document.startViewTransition(()=>n(...r))}return e}var dn={type:"watcher",name:ye,async onGlobalInit(e){U(ye,fr.bind(0,e))}},cn=document.createElement("template");function fr(e,{fragments:t,selector:n,mergeMode:r=Tt,useViewTransition:s}){cn.innerHTML=t;for(let o of cn.content.childNodes){let i=o.nodeType;if(i!==1){if(i===3&&!o.nodeValue.trim())continue;throw H("NoFragmentsFound",e)}let a=n||`[id="${o.id}"]`,l=document.querySelectorAll(a);if(!l.length)throw H("NoTargetsFound",e,{selectorOrId:a});s&&Me?document.startViewTransition(un.bind(null,e,r,o,l)):un(e,r,o,l)}}function pr(e,t,n){if(n.closest(t))return;let r=e.removals.get(n);if(e.removals.delete(n)){for(let s of r.values())s();r.clear()}e.applyToElement(n)}function un(e,t,n,r){switch(t){case je:{let s=`[${Y("ignore-morph")}]`,o=pr.bind(0,e,s);for(let i of r)mr(i,n),i.isEqualNode(n)&&ce(i,o);break}case yt:for(let s of r)s.innerHTML=n.outerHTML;break;case vt:for(let s of r)s.replaceWith(n.cloneNode(!0));break;case ht:for(let s of r)s.prepend(n.cloneNode(!0));break;case bt:for(let s of r)s.append(n.cloneNode(!0));break;case Et:for(let s of r)s.before(n.cloneNode(!0));break;case St:for(let s of r)s.after(n.cloneNode(!0));break;case xt:for(let s of r)for(let o of n.attributes)s.setAttributeNode(o.cloneNode(!1));break;default:throw H("InvalidMergeMode",e,{mergeMode:t})}}var fe=new Map,$=new Map,pe=new Set,we=new Set,me=document.createElement("div");me.hidden=!0;function mr(e,t){let n=Y("ignore-morph");if(e.hasAttribute(n)&&t.hasAttribute(n)||e.parentElement?.closest(`[${n}]`))return;let r=document.createElement("div");r.append(t),document.body.insertAdjacentElement("afterend",me);let s=e.querySelectorAll("[id]");for(let{id:i,tagName:a}of s)fe.has(i)?we.add(i):fe.set(i,a);e.id&&(fe.has(e.id)?we.add(e.id):fe.set(e.id,e.tagName)),pe.clear();let o=r.querySelectorAll("[id]");for(let{id:i,tagName:a}of o)pe.has(i)?we.add(i):fe.get(i)===a&&pe.add(i);fe.clear();for(let i of we)pe.delete(i);we.clear(),$.clear(),mn(e.parentElement,s),mn(r,o),gn(e.parentNode,r,e,e.nextSibling),me.remove()}function gn(e,t,n=null,r=null){e instanceof HTMLTemplateElement&&t instanceof HTMLTemplateElement&&(e=e.content,t=t.content),n??=e.firstChild;for(let s of t.childNodes){if(n&&n!==r){let i=dr(s,n,r);if(i){if(i!==n){let a=n;for(;a&&a!==i;){let l=a;a=a.nextSibling,pn(l)}}st(i,s),n=i.nextSibling;continue}}let o=s.id;if(s instanceof Element&&pe.has(o)){let i=window[o],a=i;for(;a=a.parentNode;){let l=$.get(a);l&&(l.delete(o),l.size||$.delete(a))}yn(e,i,n),st(i,s),n=i.nextSibling;continue}if($.has(s)){let i=document.createElement(s.tagName);e.insertBefore(i,n),st(i,s),n=i.nextSibling}else{let i=document.importNode(s,!0);e.insertBefore(i,n),n=i.nextSibling}}for(;n&&n!==r;){let s=n;n=n.nextSibling,pn(s)}}function dr(e,t,n){let r=null,s=e.nextSibling,o=0,i=0,a=$.get(e)?.size||0,l=t;for(;l&&l!==n;){if(fn(l,e)){let c=!1,u=$.get(l),f=$.get(e);if(f&&u){for(let y of u)if(f.has(y)){c=!0;break}}if(c)return l;if(!r&&!$.has(l)){if(!a)return l;r=l}}if(i+=$.get(l)?.size||0,i>a||(r===null&&s&&fn(l,s)&&(o++,s=s.nextSibling,o>=2&&(r=void 0)),l.contains(document.activeElement)))break;l=l.nextSibling}return r||null}function fn(e,t){let n=e.id;return e.nodeType===t.nodeType&&e.tagName===t.tagName&&(!n||n===t.id)}function pn(e){$.has(e)?yn(me,e,null):e.parentNode?.removeChild(e)}var yn=Function.prototype.call.bind(me.moveBefore??me.insertBefore);function st(e,t){let n=t.nodeType;if(n===1){let r=Y("ignore-morph");if(e.hasAttribute(r)&&t.hasAttribute(r))return e;let s=t.attributes;for(let{name:i,value:a}of s)e[i]!==a&&e.setAttribute(i,a);let o=e.attributes;for(let i=o.length-1;i>=0;i--){let{name:a}=o[i];s[a]||e.removeAttribute(a)}if(e instanceof HTMLInputElement&&t instanceof HTMLInputElement&&t.type!=="file"){if(!Object.keys(t.dataset).some(String.prototype.startsWith.bind(Y("bind").slice(5)))){let i=t.value;t.hasAttribute("value")?e.value!==i&&(e.setAttribute("value",i),e.value=i):(e.value="",e.removeAttribute("value"))}}else if(e instanceof HTMLTextAreaElement&&t instanceof HTMLTextAreaElement){let i=t.value;i!==e.value&&(e.value=i),e.firstChild&&e.firstChild.nodeValue!==i&&(e.firstChild.nodeValue=i)}}return(n===8||n===3)&&e.nodeValue!==t.nodeValue&&(e.nodeValue=t.nodeValue),e.isEqualNode(t)||gn(e,t),e}function mn(e,t){for(let n of t)if(pe.has(n.id)){let r=n;for(;r&&r!==e;){let s=$.get(r);s||(s=new Set,$.set(r,s)),s.add(n.id),r=r.parentElement}}}var vn={type:"watcher",name:ve,onGlobalInit:async({batch:e})=>{U(ve,({signals:t="{}",onlyIfMissing:n=`${dt}`})=>{let r=ie(n),s=Rt(t);e(()=>Oe(s,r))})}};var hn={type:"watcher",name:Ue,onGlobalInit:async e=>{U(Ue,({selector:t,useViewTransition:n=`${mt}`})=>{if(!t.length)throw H("NoSelectorProvided",e);let r=ie(n),s=document.querySelectorAll(t),o=()=>{for(let i of s)i.remove()};r&&Me?document.startViewTransition(()=>o()):o()})}};var bn={type:"watcher",name:Ke,onGlobalInit:async e=>{let{batch:t}=e;U(Ke,({paths:n=""})=>{let r=n.split(`
<<<<<<< HEAD
`).map(s=>s.trim());if(!r?.length)throw H("NoPathsProvided",e);t(()=>{Je(...r)})})}};var En={type:"attribute",name:"attr",valReq:"must",isExpr:!0,onLoad:({el:e,key:t,genRX:n,computed:r,effect:s})=>{let{deps:o,rxFn:i}=n(),a=(c,u)=>{u===""||u===!0?e.setAttribute(c,""):u===!1||u===null||u===void 0?e.removeAttribute(c):e.setAttribute(c,u)};if(t===""){let c=r(o,i);return s([c],u=>{for(let[f,y]of Object.entries(u))a(f,y)})}t=W(t);let l=r(o,i);return s([l],c=>{a(t,c)})}};var gr=/^data:(?<mime>[^;]+);base64,(?<contents>.*)$/,Sn=["change","input","keydown"],xn={type:"attribute",name:"bind",keyReq:"exclusive",valReq:"exclusive",onLoad:e=>{let{el:t,key:n,mods:r,value:s,effect:o,batch:i}=e,a=t,l=n?k(n,r):Q(s),c=t.tagName.toLowerCase(),u=c.includes("input"),f=c.includes("select"),y=t.getAttribute("type"),h=t.hasAttribute("value"),p="",g=u&&y==="checkbox";g&&(a.hasAttribute("checked")?p=h?a.value:!0:p=h?"":!1);let b=u&&y==="number";(b||u&&y==="range")&&(p=h?Number(a.value):0);let C=u&&y==="radio";C&&(t.getAttribute("name")?.length||t.setAttribute("name",l));let M=u&&y==="file",{dep:O,inserted:w}=i(()=>le(l,p)),E=-1;Array.isArray(O.value)&&(t.getAttribute("name")===null&&t.setAttribute("name",l),E=[...document.querySelectorAll(`[name="${l}"]`)].findIndex(m=>m===e.el));let T=E>=0,d=()=>[...ae(l)],R=()=>{let m=ae(l);T&&!f&&(m=m[E]||p);let S=`${m}`;if(g||C)typeof m=="boolean"?a.checked=m:a.checked=S===a.value;else if(f){let A=t;if(A.multiple){if(!T)throw v("BindSelectMultiple",e);for(let x of A.options){if(x?.disabled)continue;let L=b?Number(x.value):x.value;x.selected=m.includes(L)}}else A.value=S}else M||("value"in t?t.value=S:t.setAttribute("value",S))},P=async()=>{let m=ae(l);if(T){let L=m;for(;E>=L.length;)L.push(p);m=L[E]||p}let S=(L,_)=>{let N=_;T&&!f&&!M&&(N=d(),N[E]=_),q(L,N)};if(M){let L=[...a?.files||[]],_=[],N=[],ge=[];await Promise.all(L.map(re=>new Promise(qe=>{let V=new FileReader;V.onload=()=>{if(typeof V.result!="string")throw v("InvalidFileResultType",e,{resultType:typeof V.result});let J=V.result.match(gr);if(!J?.groups)throw v("InvalidDataUri",e,{result:V.result});_.push(J.groups.contents),N.push(J.groups.mime),ge.push(re.name)},V.onloadend=()=>qe(void 0),V.readAsDataURL(re)}))),i(()=>{S(l,_),S(`${l}Mimes`,N),S(`${l}Names`,ge)});return}let A=a.value||"",x;if(g){let L=a.checked;h?x=L?A:"":x=L}else if(f){let _=[...t.selectedOptions];T?x=_.filter(N=>N.selected).map(N=>N.value):x=_[0]?.value||p}else typeof m=="boolean"?x=!!A:typeof m=="number"?x=Number(A):x=A||"";i(()=>{S(l,x)})};w&&P();for(let m of Sn)t.addEventListener(m,P);let G=m=>{m.persisted&&P()};window.addEventListener("pageshow",G);let F=o([O],()=>R());return()=>{F();for(let m of Sn)t.removeEventListener(m,P);window.removeEventListener("pageshow",G)}}};var Tn={type:"attribute",name:"class",valReq:"must",isExpr:!0,onLoad:({el:e,key:t,mods:n,genRX:r,computed:s,effect:o})=>{let i=e.classList,{deps:a,rxFn:l}=r(),c=s(a,l);return o([c],u=>{if(t===""){let f=u;for(let[y,h]of Object.entries(f)){let p=y.split(/\s+/);h?i.add(...p):i.remove(...p)}}else{let f=W(t);f=k(f,n),u?i.add(f):i.remove(f)}})}};var Rn={type:"attribute",name:"indicator",keyReq:"exclusive",valReq:"exclusive",onLoad:e=>{let{el:t,key:n,mods:r,value:s,batch:o}=e,i=n?k(n,r):Q(s),{dep:a}=o(()=>le(i,!1));if(!Qe(a))throw v("not_signal",e,{signalName:i});let l=c=>{let{type:u,el:f}=c.detail;f===t&&o(()=>{switch(u){case $e:a.value=!0;break;case Ge:a.value=!1;break}})};return document.addEventListener(Z,l),()=>{a.value=!1,document.removeEventListener(Z,l)}}};var An={type:"attribute",name:"jsonSignals",keyReq:"denied",valReq:"denied",onLoad:e=>{let{el:t}=e;t instanceof HTMLElement||v("JsonSignalsInvalidElement",e);let n=()=>{t.textContent=Ie(!0)};return n(),document.addEventListener(j,n),()=>{document.removeEventListener(j,n)}}};function ee(e){if(!e||e.size<=0)return 0;for(let t of e){if(t.endsWith("ms"))return Number(t.replace("ms",""));if(t.endsWith("s"))return Number(t.replace("s",""))*1e3;try{return Number.parseFloat(t)}catch{}}return 0}function ne(e,t,n=!1){return e?e.has(t.toLowerCase()):n}function it(e,t){return(...n)=>{setTimeout(()=>{e(...n)},t)}}function yr(e,t,n=!1,r=!0){let s=0,o=()=>s&&clearTimeout(s);return(...i)=>{o(),n&&!s&&e(...i),s=setTimeout(()=>{r&&e(...i),o()},t)}}function vr(e,t,n=!0,r=!1){let s=!1;return(...o)=>{s||(n&&e(...o),s=!0,setTimeout(()=>{s=!1,r&&e(...o)},t))}}function de(e,t){let n=t.get("delay");if(n){let o=ee(n);e=it(e,o)}let r=t.get("debounce");if(r){let o=ee(r),i=ne(r,"leading",!1),a=!ne(r,"notrail",!1);e=yr(e,o,i,a)}let s=t.get("throttle");if(s){let o=ee(s),i=!ne(s,"noleading",!1),a=ne(s,"trail",!1);e=vr(e,o,i,a)}return e}var Mn={type:"attribute",name:"on",keyReq:"must",valReq:"must",argNames:["evt"],onLoad:e=>{let{el:t,key:n,mods:r,genRX:s,evalRX:o}=e,i=t;r.has("window")&&(i=window);let{dm:a,deps:l,rxFn:c}=s(),u=p=>{if(p){if(r.has("prevent")&&p.preventDefault(),r.has("stop")&&p.stopPropagation(),!(p.isTrusted||p instanceof CustomEvent||r.has("trust")))return;e.evt=p}o(c,a,l,p)};u=de(u,r),u=B(u,r);let f={capture:!1,passive:!1,once:!1};if(r.has("capture")&&(f.capture=!0),r.has("passive")&&(f.passive=!0),r.has("once")&&(f.once=!0),r.has("outside")){i=document;let p=u;u=g=>{let b=g?.target;t.contains(b)||p(g)}}let h=W(n);if(h=k(h,r),(h===Z||h===j)&&(i=document),t instanceof HTMLFormElement&&h==="submit"){let p=u;u=g=>{g?.preventDefault(),p(g)}}return i.addEventListener(h,u,f),()=>{i.removeEventListener(h,u)}}};var ot=new WeakSet,wn={type:"attribute",name:"onIntersect",keyReq:"denied",onLoad:({el:e,mods:t,genRX:n,evalRX:r})=>{let{dm:s,deps:o,rxFn:i}=n(),a=()=>r(i,s,o);a=de(a,t),a=B(a,t);let l={threshold:0};t.has("full")?l.threshold=1:t.has("half")&&(l.threshold=.5);let c=new IntersectionObserver(u=>{for(let f of u)f.isIntersecting&&(a(),c&&ot.has(e)&&c.disconnect())},l);return c.observe(e),t.has("once")&&ot.add(e),()=>{t.has("once")||ot.delete(e),c&&(c.disconnect(),c=null)}}};var Dn={type:"attribute",name:"onInterval",keyReq:"denied",valReq:"must",onLoad:({mods:e,genRX:t,evalRX:n})=>{let{dm:r,deps:s,rxFn:o}=t(),i=()=>n(o,r,s);i=B(i,e);let a=1e3,l=e.get("duration");l&&(a=ee(l),ne(l,"leading",!1)&&i());let c=setInterval(i,a);return()=>{clearInterval(c)}}};var at=new WeakSet,Cn={type:"attribute",name:"onLoad",keyReq:"denied",valReq:"must",onLoad:({el:e,mods:t,genRX:n,evalRX:r})=>{let{dm:s,deps:o,rxFn:i}=n(),a=()=>r(i,s,o);a=B(a,t);let l=0,c=t.get("delay");return c&&(l=ee(c)),a=it(a,l),at.has(e)||a(),t.has("once")&&at.add(e),()=>{t.has("once")||at.delete(e)}}};function lt(e,t){return t=t.replaceAll(".","\\.").replaceAll("**",se).replaceAll("*","[^\\.]*").replaceAll(se,".*"),RegExp(`^${t}$`).test(e)}function _e(e){let t=[],n=e.split(/\s+/).filter(r=>r!=="");n=n.map(r=>Q(r));for(let r of n)for(let s of oe())lt(s,r)&&t.push(s);return t}var Fn={type:"attribute",name:"onSignalChange",valReq:"must",argNames:["evt"],onLoad:({key:e,mods:t,genRX:n,evalRX:r})=>{let{dm:s,deps:o,rxFn:i}=n(),a=c=>r(i,s,o,c);a=de(a,t),a=B(a,t);let l=c=>{if(e!==""){let u=k(e,t),{added:f,removed:y,updated:h}=c.detail;if(![...f,...y,...h].some(({path:p})=>lt(p,u)))return}a(c)};return document.addEventListener(j,l),()=>{document.removeEventListener(j,l)}}};var Ln={type:"attribute",name:"ref",keyReq:"exclusive",valReq:"exclusive",onLoad:({el:e,key:t,mods:n,value:r,batch:s})=>{let o=t?k(t,n):Q(r);s(()=>{q(o,e)})}};var Pn="none",kn="display",On={type:"attribute",name:"show",keyReq:"denied",valReq:"must",isExpr:!0,onLoad:({el:{style:e},genRX:t,computed:n,effect:r})=>{let{deps:s,rxFn:o}=t(),i=n(s,o);return r([i],async a=>{a?e.display===Pn&&e.removeProperty(kn):e.setProperty(kn,Pn)})}};var In={type:"attribute",name:"text",keyReq:"denied",valReq:"must",isExpr:!0,onLoad:e=>{let{el:t,genRX:n,computed:r,effect:s}=e,{deps:o,rxFn:i}=n();t instanceof HTMLElement||v("TextInvalidElement",e);let a=r(o,i);return s([a],l=>{t.textContent=`${l}`})}};var Nn={type:"action",name:"setAll",fn:({batch:e},t,n)=>{e(()=>{let r=_e(t);for(let s of r)q(s,n)})}};var Vn={type:"action",name:"toggleAll",fn:({batch:e},t)=>{e(()=>{let n=_e(t);for(let r of n)q(r,!ae(r))})}};var We=new WeakMap,Hn={type:"attribute",name:"preserveAttr",valReq:"exclusive",keyReq:"exclusive",onLoad:({el:e,key:t,value:n})=>{let r=t?[t]:n.trim().split(" ");if(We.has(e)){let o=We.get(e);for(let i of r){let a=o[i];a!==void 0?e.setAttribute(i,a):e.removeAttribute(i)}}else{let o={};for(let i of r){let a=e.getAttribute(i);a!==null&&(o[i]=a)}We.set(e,o)}let s=new MutationObserver(o=>{for(let{attributeName:i,target:a}of o){let l=a,c=We.get(l);if(c){let u=i,f=l.getAttribute(u);f!==null?c[u]=f:delete c[u]}}});return s.observe(e,{attributes:!0,attributeFilter:r}),()=>{s&&(s.disconnect(),s=null)}}};Ve(rn,on,an,sn,nn,dn,vn,hn,bn,ln,En,xn,Tn,Rn,An,Mn,wn,Dn,Cn,Fn,Hn,Ln,On,In,Nn,Vn);rt();export{rt as apply,Ve as load,qt as setAlias};
=======
`).map(s=>s.trim());if(!r?.length)throw H("NoPathsProvided",e);t(()=>{Je(...r)})})}};var En={type:"attribute",name:"attr",valReq:"must",isExpr:!0,onLoad:({el:e,key:t,genRX:n,computed:r,effect:s})=>{let{deps:o,rxFn:i}=n(),a=(c,u)=>{u===""||u===!0?e.setAttribute(c,""):u===!1||u===null||u===void 0?e.removeAttribute(c):e.setAttribute(c,u)};if(t===""){let c=r(o,i);return s([c],u=>{for(let[f,y]of Object.entries(u))a(f,y)})}t=W(t);let l=r(o,i);return s([l],c=>{a(t,c)})}};var gr=/^data:(?<mime>[^;]+);base64,(?<contents>.*)$/,Sn=["change","input","keydown"],xn={type:"attribute",name:"bind",keyReq:"exclusive",valReq:"exclusive",onLoad:e=>{let{el:t,key:n,mods:r,value:s,effect:o,batch:i}=e,a=t,l=n?k(n,r):Q(s),c=t.tagName.toLowerCase(),u=c.includes("input"),f=c.includes("select"),y=t.getAttribute("type"),h=t.hasAttribute("value"),p="",g=u&&y==="checkbox";g&&(a.hasAttribute("checked")?p=h?a.value:!0:p=h?"":!1);let b=u&&y==="number";(b||u&&y==="range")&&(p=h?Number(a.value):0);let C=u&&y==="radio";C&&(t.getAttribute("name")?.length||t.setAttribute("name",l));let M=u&&y==="file",{dep:O,inserted:w}=i(()=>le(l,p)),E=-1;Array.isArray(O.value)&&(t.getAttribute("name")===null&&t.setAttribute("name",l),E=[...document.querySelectorAll(`[name="${l}"]`)].findIndex(m=>m===e.el));let T=E>=0,d=()=>[...ae(l)],R=()=>{let m=ae(l);T&&!f&&(m=m[E]||p);let S=`${m}`;if(g||C)typeof m=="boolean"?a.checked=m:a.checked=S===a.value;else if(f){let A=t;if(A.multiple){if(!T)throw v("BindSelectMultiple",e);for(let x of A.options){if(x?.disabled)continue;let L=b?Number(x.value):x.value;x.selected=m.includes(L)}}else A.value=S}else M||("value"in t?t.value=S:t.setAttribute("value",S))},P=async()=>{let m=ae(l);if(T){let L=m;for(;E>=L.length;)L.push(p);m=L[E]||p}let S=(L,_)=>{let N=_;T&&!f&&!M&&(N=d(),N[E]=_),q(L,N)};if(M){let L=[...a?.files||[]],_=[],N=[],ge=[];await Promise.all(L.map(re=>new Promise(qe=>{let V=new FileReader;V.onload=()=>{if(typeof V.result!="string")throw v("InvalidFileResultType",e,{resultType:typeof V.result});let J=V.result.match(gr);if(!J?.groups)throw v("InvalidDataUri",e,{result:V.result});_.push(J.groups.contents),N.push(J.groups.mime),ge.push(re.name)},V.onloadend=()=>qe(void 0),V.readAsDataURL(re)}))),i(()=>{S(l,_),S(`${l}Mimes`,N),S(`${l}Names`,ge)});return}let A=a.value||"",x;if(g){let L=a.checked;h?x=L?A:"":x=L}else if(f){let _=[...t.selectedOptions];T?x=_.filter(N=>N.selected).map(N=>N.value):x=_[0]?.value||p}else typeof m=="boolean"?x=!!A:typeof m=="number"?x=Number(A):x=A||"";i(()=>{S(l,x)})};w&&P();for(let m of Sn)t.addEventListener(m,P);let G=m=>{m.persisted&&P()};window.addEventListener("pageshow",G);let F=o([O],()=>R());return()=>{F();for(let m of Sn)t.removeEventListener(m,P);window.removeEventListener("pageshow",G)}}};var Tn={type:"attribute",name:"class",valReq:"must",isExpr:!0,onLoad:({el:e,key:t,mods:n,genRX:r,computed:s,effect:o})=>{let i=e.classList,{deps:a,rxFn:l}=r(),c=s(a,l);return o([c],u=>{if(t===""){let f=u;for(let[y,h]of Object.entries(f)){let p=y.split(/\s+/);h?i.add(...p):i.remove(...p)}}else{let f=W(t);f=k(f,n),u?i.add(f):i.remove(f)}})}};var Rn={type:"attribute",name:"indicator",keyReq:"exclusive",valReq:"exclusive",onLoad:e=>{let{el:t,key:n,mods:r,value:s,batch:o}=e,i=n?k(n,r):Q(s),{dep:a}=o(()=>le(i,!1));if(!Qe(a))throw v("not_signal",e,{signalName:i});let l=c=>{let{type:u,el:f}=c.detail;f===t&&o(()=>{switch(u){case $e:a.value=!0;break;case Ge:a.value=!1;break}})};return document.addEventListener(Z,l),()=>{a.value=!1,document.removeEventListener(Z,l)}}};var An={type:"attribute",name:"jsonSignals",keyReq:"denied",valReq:"denied",onLoad:e=>{let{el:t}=e;t instanceof HTMLElement||v("JsonSignalsInvalidElement",e);let n=()=>{t.textContent=Ie(!0)};return n(),document.addEventListener(j,n),()=>{document.removeEventListener(j,n)}}};function ee(e){if(!e||e.size<=0)return 0;for(let t of e){if(t.endsWith("ms"))return Number(t.replace("ms",""));if(t.endsWith("s"))return Number(t.replace("s",""))*1e3;try{return Number.parseFloat(t)}catch{}}return 0}function ne(e,t,n=!1){return e?e.has(t.toLowerCase()):n}function it(e,t){return(...n)=>{setTimeout(()=>{e(...n)},t)}}function yr(e,t,n=!1,r=!0){let s=0,o=()=>s&&clearTimeout(s);return(...i)=>{o(),n&&!s&&e(...i),s=setTimeout(()=>{r&&e(...i),o()},t)}}function vr(e,t,n=!0,r=!1){let s=!1;return(...o)=>{s||(n&&e(...o),s=!0,setTimeout(()=>{s=!1,r&&e(...o)},t))}}function de(e,t){let n=t.get("delay");if(n){let o=ee(n);e=it(e,o)}let r=t.get("debounce");if(r){let o=ee(r),i=ne(r,"leading",!1),a=!ne(r,"notrail",!1);e=yr(e,o,i,a)}let s=t.get("throttle");if(s){let o=ee(s),i=!ne(s,"noleading",!1),a=ne(s,"trail",!1);e=vr(e,o,i,a)}return e}var Mn={type:"attribute",name:"on",keyReq:"must",valReq:"must",argNames:["evt"],onLoad:e=>{let{el:t,key:n,mods:r,genRX:s,evalRX:o}=e,i=t;r.has("window")&&(i=window);let{dm:a,deps:l,rxFn:c}=s(),u=p=>{if(p){if(r.has("prevent")&&p.preventDefault(),r.has("stop")&&p.stopPropagation(),!(p.isTrusted||p instanceof CustomEvent||r.has("trust")))return;e.evt=p}o(c,a,l,p)};u=de(u,r),u=B(u,r);let f={capture:!1,passive:!1,once:!1};if(r.has("capture")&&(f.capture=!0),r.has("passive")&&(f.passive=!0),r.has("once")&&(f.once=!0),r.has("outside")){i=document;let p=u;u=g=>{let b=g?.target;t.contains(b)||p(g)}}let h=W(n);if(h=k(h,r),(h===Z||h===j)&&(i=document),t instanceof HTMLFormElement&&h==="submit"){let p=u;u=g=>{g?.preventDefault(),p(g)}}return i.addEventListener(h,u,f),()=>{i.removeEventListener(h,u)}}};var ot=new WeakSet,wn={type:"attribute",name:"onIntersect",keyReq:"denied",onLoad:({el:e,mods:t,genRX:n,evalRX:r})=>{let{dm:s,deps:o,rxFn:i}=n(),a=()=>r(i,s,o);a=de(a,t),a=B(a,t);let l={threshold:0};t.has("full")?l.threshold=1:t.has("half")&&(l.threshold=.5);let c=new IntersectionObserver(u=>{for(let f of u)f.isIntersecting&&(a(),c&&ot.has(e)&&c.disconnect())},l);return c.observe(e),t.has("once")&&ot.add(e),()=>{t.has("once")||ot.delete(e),c&&(c.disconnect(),c=null)}}};var Dn={type:"attribute",name:"onInterval",keyReq:"denied",valReq:"must",onLoad:({mods:e,genRX:t,evalRX:n})=>{let{dm:r,deps:s,rxFn:o}=t(),i=()=>n(o,r,s);i=B(i,e);let a=1e3,l=e.get("duration");l&&(a=ee(l),ne(l,"leading",!1)&&i());let c=setInterval(i,a);return()=>{clearInterval(c)}}};var at=new WeakSet,Cn={type:"attribute",name:"onLoad",keyReq:"denied",valReq:"must",onLoad:({el:e,mods:t,genRX:n,evalRX:r})=>{let{dm:s,deps:o,rxFn:i}=n(),a=()=>r(i,s,o);a=B(a,t);let l=0,c=t.get("delay");return c&&(l=ee(c)),a=it(a,l),at.has(e)||a(),t.has("once")&&at.add(e),()=>{t.has("once")||at.delete(e)}}};function lt(e,t){return t=t.replaceAll(".","\\.").replaceAll("**",se).replaceAll("*","[^\\.]*").replaceAll(se,".*"),RegExp(`^${t}$`).test(e)}function _e(e){let t=[],n=e.split(/\s+/).filter(r=>r!=="");n=n.map(r=>Q(r));for(let r of n)for(let s of oe())lt(s,r)&&t.push(s);return t}var Fn={type:"attribute",name:"onSignalChange",valReq:"must",argNames:["evt"],onLoad:({key:e,mods:t,genRX:n,evalRX:r})=>{let{dm:s,deps:o,rxFn:i}=n(),a=c=>r(i,s,o,c);a=de(a,t),a=B(a,t);let l=c=>{if(e!==""){let u=k(e,t),{added:f,removed:y,updated:h}=c.detail;if(![...f,...y,...h].some(([p])=>lt(p,u)))return}a(c)};return document.addEventListener(j,l),()=>{document.removeEventListener(j,l)}}};var Ln={type:"attribute",name:"ref",keyReq:"exclusive",valReq:"exclusive",onLoad:({el:e,key:t,mods:n,value:r,batch:s})=>{let o=t?k(t,n):Q(r);s(()=>{q(o,e)})}};var Pn="none",kn="display",On={type:"attribute",name:"show",keyReq:"denied",valReq:"must",isExpr:!0,onLoad:({el:{style:e},genRX:t,computed:n,effect:r})=>{let{deps:s,rxFn:o}=t(),i=n(s,o);return r([i],async a=>{a?e.display===Pn&&e.removeProperty(kn):e.setProperty(kn,Pn)})}};var In={type:"attribute",name:"text",keyReq:"denied",valReq:"must",isExpr:!0,onLoad:e=>{let{el:t,genRX:n,computed:r,effect:s}=e,{deps:o,rxFn:i}=n();t instanceof HTMLElement||v("TextInvalidElement",e);let a=r(o,i);return s([a],l=>{t.textContent=`${l}`})}};var Nn={type:"action",name:"setAll",fn:({batch:e},t,n)=>{e(()=>{let r=_e(t);for(let s of r)q(s,n)})}};var Vn={type:"action",name:"toggleAll",fn:({batch:e},t)=>{e(()=>{let n=_e(t);for(let r of n)q(r,!ae(r))})}};var We=new WeakMap,Hn={type:"attribute",name:"preserveAttr",valReq:"exclusive",keyReq:"exclusive",onLoad:({el:e,key:t,value:n})=>{let r=t?[t]:n.trim().split(" ");if(We.has(e)){let o=We.get(e);for(let i of r){let a=o[i];a!==void 0?e.setAttribute(i,a):e.removeAttribute(i)}}else{let o={};for(let i of r){let a=e.getAttribute(i);a!==null&&(o[i]=a)}We.set(e,o)}let s=new MutationObserver(o=>{for(let{attributeName:i,target:a}of o){let l=a,c=We.get(l);if(c){let u=i,f=l.getAttribute(u);f!==null?c[u]=f:delete c[u]}}});return s.observe(e,{attributes:!0,attributeFilter:r}),()=>{s&&(s.disconnect(),s=null)}}};Ve(rn,on,an,sn,nn,dn,vn,hn,bn,ln,En,xn,Tn,Rn,An,Mn,wn,Dn,Cn,Fn,Hn,Ln,On,In,Nn,Vn);rt();export{rt as apply,Ve as load,qt as setAlias};
>>>>>>> develop
//# sourceMappingURL=datastar.js.map
